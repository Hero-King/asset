<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.24" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.94" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"GLSL ä¸­æ–‡æ‰‹å†Œ","image":["http://wshxbqq-wshxbqq.stor.sinaapp.com/2016-08-08_16-15-35_329___2.png","http://wshxbqq-wshxbqq.stor.sinaapp.com/2016-08-08_16-15-36_966___3.png","http://wshxbqq-wshxbqq.stor.sinaapp.com/2016-08-08_16-15-36_284___4.png","http://wshxbqq-wshxbqq.stor.sinaapp.com/2016-08-08_16-15-36_985___5.png"],"dateModified":"2025-12-26T13:07:44.000Z","author":[{"@type":"Person","name":"HeroKing","url":"https://github.com/Hero-King","email":"838774057@qq.com"}]}</script><meta property="og:url" content="https://blog.heroking.top/frontEnd/basics/glsl.html"><meta property="og:site_name" content="HeroKingåšå®¢"><meta property="og:title" content="GLSL ä¸­æ–‡æ‰‹å†Œ"><meta property="og:description" content="GLSL ä¸­æ–‡æ‰‹å†Œ åŸºæœ¬ç±»å‹: åŸºæœ¬ç»“æ„å’Œæ•°ç»„: å‘é‡çš„åˆ†é‡è®¿é—®: glslä¸­çš„å‘é‡(vec2,vec3,vec4)å¾€å¾€æœ‰ç‰¹æ®Šçš„å«ä¹‰,æ¯”å¦‚å¯èƒ½ä»£è¡¨äº†ä¸€ä¸ªç©ºé—´åæ ‡(x,y,z,w),æˆ–è€…ä»£è¡¨äº†ä¸€ä¸ªé¢œè‰²(r,g,b,a),å†æˆ–è€…ä»£è¡¨ä¸€ä¸ªçº¹ç†åæ ‡(s,t,p,q) æ‰€ä»¥glslæä¾›äº†ä¸€äº›æ›´äººæ€§åŒ–çš„åˆ†é‡è®¿é—®æ–¹å¼. vector.xyzw å…¶ä¸­xyzw å¯ä»¥ä»»æ„..."><meta property="og:type" content="article"><meta property="og:image" content="http://wshxbqq-wshxbqq.stor.sinaapp.com/2016-08-08_16-15-35_329___2.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-12-26T13:07:44.000Z"><meta property="article:modified_time" content="2025-12-26T13:07:44.000Z"><link rel="icon" href="/favicon.ico"><title>GLSL ä¸­æ–‡æ‰‹å†Œ | HeroKingåšå®¢</title><meta name="description" content="GLSL ä¸­æ–‡æ‰‹å†Œ åŸºæœ¬ç±»å‹: åŸºæœ¬ç»“æ„å’Œæ•°ç»„: å‘é‡çš„åˆ†é‡è®¿é—®: glslä¸­çš„å‘é‡(vec2,vec3,vec4)å¾€å¾€æœ‰ç‰¹æ®Šçš„å«ä¹‰,æ¯”å¦‚å¯èƒ½ä»£è¡¨äº†ä¸€ä¸ªç©ºé—´åæ ‡(x,y,z,w),æˆ–è€…ä»£è¡¨äº†ä¸€ä¸ªé¢œè‰²(r,g,b,a),å†æˆ–è€…ä»£è¡¨ä¸€ä¸ªçº¹ç†åæ ‡(s,t,p,q) æ‰€ä»¥glslæä¾›äº†ä¸€äº›æ›´äººæ€§åŒ–çš„åˆ†é‡è®¿é—®æ–¹å¼. vector.xyzw å…¶ä¸­xyzw å¯ä»¥ä»»æ„...">
    <link rel="preload" href="/assets/style-LUTMIi_g.css" as="style"><link rel="stylesheet" href="/assets/style-LUTMIi_g.css">
    <link rel="modulepreload" href="/assets/app-BgiGmIPz.js"><link rel="modulepreload" href="/assets/glsl.html-DvENU0K8.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-DQbYUUmp.js" as="script"><link rel="prefetch" href="/assets/intro.html-C9NMg_RB.js" as="script"><link rel="prefetch" href="/assets/C__.html-Ge3iogAr.js" as="script"><link rel="prefetch" href="/assets/ocr.html-4Cx15niD.js" as="script"><link rel="prefetch" href="/assets/index.html-DERdXXyq.js" as="script"><link rel="prefetch" href="/assets/xiaoai.html-Bz51sl3h.js" as="script"><link rel="prefetch" href="/assets/HighPerformanceBrowserNetworking.html-BNuUONyJ.js" as="script"><link rel="prefetch" href="/assets/deepUnderstandJavaScript.html-GdXerkJ0.js" as="script"><link rel="prefetch" href="/assets/index.html-C0VOUa4D.js" as="script"><link rel="prefetch" href="/assets/FullStackDeveloper.html-DwKfmLDh.js" as="script"><link rel="prefetch" href="/assets/index.html-CcMdEnrp.js" as="script"><link rel="prefetch" href="/assets/camera.html-BudPobSC.js" as="script"><link rel="prefetch" href="/assets/car.html-DMSWsg2C.js" as="script"><link rel="prefetch" href="/assets/excel.html-uMfjpcy3.js" as="script"><link rel="prefetch" href="/assets/nas.html-sTj_6SzC.js" as="script"><link rel="prefetch" href="/assets/index.html-BAW0G8ev.js" as="script"><link rel="prefetch" href="/assets/DDNS.html-B8IozlYt.js" as="script"><link rel="prefetch" href="/assets/http.html-BhiyAt98.js" as="script"><link rel="prefetch" href="/assets/https.html-DdjDhGjx.js" as="script"><link rel="prefetch" href="/assets/iptv.html-B7PZMpWw.js" as="script"><link rel="prefetch" href="/assets/modem.html-Bedxdvc8.js" as="script"><link rel="prefetch" href="/assets/proxy.html-BtnWq0ir.js" as="script"><link rel="prefetch" href="/assets/index.html-BGpx71Tm.js" as="script"><link rel="prefetch" href="/assets/ESXI.html-Bxb9d6Fx.js" as="script"><link rel="prefetch" href="/assets/RemoteDesktop.html-EUz7NfUq.js" as="script"><link rel="prefetch" href="/assets/ftp.html-CmvO-h1H.js" as="script"><link rel="prefetch" href="/assets/index.html-ldUwFFok.js" as="script"><link rel="prefetch" href="/assets/samba.html-DkrekZiN.js" as="script"><link rel="prefetch" href="/assets/vscode.html-BKxrBoA6.js" as="script"><link rel="prefetch" href="/assets/webhook.html-B5xyacMZ.js" as="script"><link rel="prefetch" href="/assets/AssemblyLanguageNote.html-Bnhrsb7R.js" as="script"><link rel="prefetch" href="/assets/T1.html-BzDGmP39.js" as="script"><link rel="prefetch" href="/assets/fn.html-C0VnHs5T.js" as="script"><link rel="prefetch" href="/assets/openwrt.html-DLG1RArO.js" as="script"><link rel="prefetch" href="/assets/os.html-CsooKNeF.js" as="script"><link rel="prefetch" href="/assets/pve.html-CS4obyRN.js" as="script"><link rel="prefetch" href="/assets/index.html-cI_AXM3e.js" as="script"><link rel="prefetch" href="/assets/activeMq.html-Mn0V3LZ7.js" as="script"><link rel="prefetch" href="/assets/index.html-Bs-pxkUO.js" as="script"><link rel="prefetch" href="/assets/index.html-I3GyiQp6.js" as="script"><link rel="prefetch" href="/assets/index.html-C-Gsptbr.js" as="script"><link rel="prefetch" href="/assets/index.html-CzuNp7Qi.js" as="script"><link rel="prefetch" href="/assets/index.html-BGMA6JFK.js" as="script"><link rel="prefetch" href="/assets/index.html-BbWtKlS7.js" as="script"><link rel="prefetch" href="/assets/ChromeDebugg.html-DJi4tKNQ.js" as="script"><link rel="prefetch" href="/assets/H5.html-C9q6wpBK.js" as="script"><link rel="prefetch" href="/assets/compressImage.html-5pvWjwPO.js" as="script"><link rel="prefetch" href="/assets/echarts.html-xwcq-2D9.js" as="script"><link rel="prefetch" href="/assets/index.html-DfcvdrHQ.js" as="script"><link rel="prefetch" href="/assets/thingjs.html-AlHQl3TS.js" as="script"><link rel="prefetch" href="/assets/npm.html-CSw33gW3.js" as="script"><link rel="prefetch" href="/assets/index.html-D9qye2cA.js" as="script"><link rel="prefetch" href="/assets/vite.html-DS6A2QuB.js" as="script"><link rel="prefetch" href="/assets/vuecli.html-oRM_YXzs.js" as="script"><link rel="prefetch" href="/assets/index.html-D8xqdKpO.js" as="script"><link rel="prefetch" href="/assets/Nestjs.html-DANNJa7T.js" as="script"><link rel="prefetch" href="/assets/puppeteer.html-DhH7m7lf.js" as="script"><link rel="prefetch" href="/assets/index.html-B8e-6dJJ.js" as="script"><link rel="prefetch" href="/assets/typeorm.html-DoD3rsiE.js" as="script"><link rel="prefetch" href="/assets/index.html-DFKXUlpd.js" as="script"><link rel="prefetch" href="/assets/uniapp.html-C81_rjYA.js" as="script"><link rel="prefetch" href="/assets/monitor.html-CjwfqQYY.js" as="script"><link rel="prefetch" href="/assets/index.html-DcSG7uWw.js" as="script"><link rel="prefetch" href="/assets/github.html-ButpJRY2.js" as="script"><link rel="prefetch" href="/assets/project.html-BCHeeVfa.js" as="script"><link rel="prefetch" href="/assets/index.html-7QgWftSI.js" as="script"><link rel="prefetch" href="/assets/index.html-CrtBah7x.js" as="script"><link rel="prefetch" href="/assets/mac.html-CewAJTyt.js" as="script"><link rel="prefetch" href="/assets/index.html-TX47OkF_.js" as="script"><link rel="prefetch" href="/assets/commandList.html-rgEHcYsP.js" as="script"><link rel="prefetch" href="/assets/cron.html-CT7QJD2B.js" as="script"><link rel="prefetch" href="/assets/index.html-5LFx2U12.js" as="script"><link rel="prefetch" href="/assets/index.html-BTQ4MfH_.js" as="script"><link rel="prefetch" href="/assets/bat.html-DRw2UbeZ.js" as="script"><link rel="prefetch" href="/assets/vbs.html-CfAwSy6g.js" as="script"><link rel="prefetch" href="/assets/index.html-BMlsomjz.js" as="script"><link rel="prefetch" href="/assets/index.html-dK6AmwfD.js" as="script"><link rel="prefetch" href="/assets/index.html-Dl5VSEB5.js" as="script"><link rel="prefetch" href="/assets/404.html-FBoARHKP.js" as="script"><link rel="prefetch" href="/assets/index.html-BYTCRiag.js" as="script"><link rel="prefetch" href="/assets/index.html-CnyNsC_x.js" as="script"><link rel="prefetch" href="/assets/index.html-CJbic70t.js" as="script"><link rel="prefetch" href="/assets/index.html-D4DwG3cT.js" as="script"><link rel="prefetch" href="/assets/index.html-Ct4OREOy.js" as="script"><link rel="prefetch" href="/assets/index.html-BpHcQQKX.js" as="script"><link rel="prefetch" href="/assets/index.html-CPXjubtx.js" as="script"><link rel="prefetch" href="/assets/flowchart-G1WAoCnn.js" as="script"><link rel="prefetch" href="/assets/index-DtWMYcbt.js" as="script"><link rel="prefetch" href="/assets/index-DMDrkyre.js" as="script"><link rel="prefetch" href="/assets/index-BPAdBlYL.js" as="script"><link rel="prefetch" href="/assets/mermaid.esm.min-DwzUyKIg.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-CKV1Bsxh.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo" src="https://theme-hope-assets.vuejs.press/logo.svg" alt><!----><span class="vp-site-name hide-in-pad">HeroKingåšå®¢</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="åšå®¢ä¸»é¡µ"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:house" sizing="height" height="1em"></iconify-icon><!--]-->åšå®¢ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/frontEnd/" aria-label="å‰ç«¯"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:code" sizing="height" height="1em"></iconify-icon><!--]-->å‰ç«¯<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/afterEnd/" aria-label="åç«¯"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:database" sizing="height" height="1em"></iconify-icon><!--]-->åç«¯<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/algorithms/" aria-label="æ•°æ®ç»“æ„ä¸ç®—æ³•"><!---->æ•°æ®ç»“æ„ä¸ç®—æ³•<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/network/" aria-label="ç½‘ç»œ"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:network-wired" sizing="height" height="1em"></iconify-icon><!--]-->ç½‘ç»œ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/software/" aria-label="è½¯ä»¶"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:software" sizing="height" height="1em"></iconify-icon><!--]-->è½¯ä»¶<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/system/" aria-label="æ“ä½œç³»ç»Ÿ"><!---->æ“ä½œç³»ç»Ÿ<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/books/" aria-label="Books"><!---->Books<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/Hero-King/asset" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/frontEnd/" aria-label="å‰ç«¯"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:code" sizing="both" width="1em" height="1em"></iconify-icon><!--]-->å‰ç«¯<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Demo</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/frontEnd/FullStackDeveloper.html" aria-label="å…¨æ ˆ"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:battery-full" sizing="both" width="1em" height="1em"></iconify-icon><!--]-->å…¨æ ˆ<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:book" sizing="both" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">åŸºç¡€çŸ¥è¯†</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/frontEnd/basics/ChromeDebugg.html" aria-label="Chrome è°ƒè¯•æŠ€å·§"><!---->Chrome è°ƒè¯•æŠ€å·§<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/frontEnd/basics/echarts.html" aria-label="echarts"><!---->echarts<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/frontEnd/basics/glsl.html" aria-label="GLSL ä¸­æ–‡æ‰‹å†Œ"><!---->GLSL ä¸­æ–‡æ‰‹å†Œ<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/frontEnd/basics/H5.html" aria-label="H5"><!---->H5<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/frontEnd/basics/thingjs.html" aria-label="thingjs"><!---->thingjs<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">typescript</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/frontEnd/basics/compressImage.html" aria-label="å‰ç«¯å›¾ç‰‡å‹ç¼©"><!---->å‰ç«¯å›¾ç‰‡å‹ç¼©<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:diagram-project" sizing="both" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">å·¥ç¨‹åŒ–</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:tachograph-digital" sizing="both" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">æ€§èƒ½ä¼˜åŒ–</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:hammer" sizing="both" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">æ„å»ºå·¥å…·</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:cubes" sizing="both" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">æ¡†æ¶æŠ€æœ¯</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:vial" sizing="both" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">æµ‹è¯•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:mobile" sizing="both" width="1em" height="1em"></iconify-icon><span class="vp-sidebar-title">ç§»åŠ¨ç«¯å¼€å‘</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->GLSL ä¸­æ–‡æ‰‹å†Œ</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/Hero-King" target="_blank" rel="noopener noreferrer">HeroKing</a></span><span property="author" content="HeroKing"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025/12/26</span><meta property="datePublished" content="2025-12-26T13:07:44.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 21 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT21M"></span><!----><!----></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><h1 id="glsl-ä¸­æ–‡æ‰‹å†Œ" tabindex="-1"><a class="header-anchor" href="#glsl-ä¸­æ–‡æ‰‹å†Œ"><span>GLSL ä¸­æ–‡æ‰‹å†Œ</span></a></h1><h3 id="åŸºæœ¬ç±»å‹" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ç±»å‹"><span>åŸºæœ¬ç±»å‹:</span></a></h3><table><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>void</strong></td><td>ç©ºç±»å‹,å³ä¸è¿”å›ä»»ä½•å€¼</td></tr><tr><td><strong>bool</strong></td><td>å¸ƒå°”ç±»å‹ true,false</td></tr><tr><td><strong>int</strong></td><td>å¸¦ç¬¦å·çš„æ•´æ•° signed integer</td></tr><tr><td><strong>float</strong></td><td>å¸¦ç¬¦å·çš„æµ®ç‚¹æ•° floating scalar</td></tr><tr><td><strong>vec2, vec3, vec4</strong></td><td>nç»´æµ®ç‚¹æ•°å‘é‡ n-component floating point vector</td></tr><tr><td><strong>bvec2, bvec3, bvec4</strong></td><td>nç»´å¸ƒå°”å‘é‡ Boolean vector</td></tr><tr><td><strong>ivec2, ivec3, ivec4</strong></td><td>nç»´æ•´æ•°å‘é‡ signed integer vector</td></tr><tr><td><strong>mat2, mat3, mat4</strong></td><td>2x2, 3x3, 4x4 æµ®ç‚¹æ•°çŸ©é˜µ float matrix</td></tr><tr><td><strong>sampler2D</strong></td><td>2Dçº¹ç† a 2D texture</td></tr><tr><td><strong>samplerCube</strong></td><td>ç›’çº¹ç† cube mapped texture</td></tr></tbody></table><h3 id="åŸºæœ¬ç»“æ„å’Œæ•°ç»„" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ç»“æ„å’Œæ•°ç»„"><span>åŸºæœ¬ç»“æ„å’Œæ•°ç»„:</span></a></h3><table><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ç»“æ„</td><td>struct type-name{} ç±»ä¼¼cè¯­è¨€ä¸­çš„ ç»“æ„ä½“</td></tr><tr><td>æ•°ç»„</td><td>float foo[3] glslåªæ”¯æŒ1ç»´æ•°ç»„,æ•°ç»„å¯ä»¥æ˜¯ç»“æ„ä½“çš„æˆå‘˜</td></tr></tbody></table><h3 id="å‘é‡çš„åˆ†é‡è®¿é—®" tabindex="-1"><a class="header-anchor" href="#å‘é‡çš„åˆ†é‡è®¿é—®"><span>å‘é‡çš„åˆ†é‡è®¿é—®:</span></a></h3><p>glslä¸­çš„å‘é‡(vec2,vec3,vec4)å¾€å¾€æœ‰ç‰¹æ®Šçš„å«ä¹‰,æ¯”å¦‚å¯èƒ½ä»£è¡¨äº†ä¸€ä¸ªç©ºé—´åæ ‡(x,y,z,w),æˆ–è€…ä»£è¡¨äº†ä¸€ä¸ªé¢œè‰²(r,g,b,a),å†æˆ–è€…ä»£è¡¨ä¸€ä¸ªçº¹ç†åæ ‡(s,t,p,q)<br> æ‰€ä»¥glslæä¾›äº†ä¸€äº›æ›´äººæ€§åŒ–çš„åˆ†é‡è®¿é—®æ–¹å¼.</p><p><code>vector.xyzw</code> å…¶ä¸­xyzw å¯ä»¥ä»»æ„ç»„åˆ</p><p><code>vector.rgba</code> å…¶ä¸­rgba å¯ä»¥ä»»æ„ç»„åˆ</p><p><code>vector.stpq</code> å…¶ä¸­rgba å¯ä»¥ä»»æ„ç»„åˆ</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec4 v</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vec4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">x</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //1.0</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //1.0</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> x2 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">];</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //1.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec3 xyz </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">xyz</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //vec3(1.0,2.0,3.0)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec3 xyz1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> vec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //vec3(1.0,2.0,3.0)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec3 rgb </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">rgb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //vec3(1.0,2.0,3.0)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec2 xyzw </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">xyzw</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //vec4(1.0,2.0,3.0,1.0);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec2 rgba </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">rgba</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //vec4(1.0,2.0,3.0,1.0);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¿ç®—ç¬¦" tabindex="-1"><a class="header-anchor" href="#è¿ç®—ç¬¦"><span>è¿ç®—ç¬¦:</span></a></h3><table><thead><tr><th>ä¼˜å…ˆçº§(è¶Šå°è¶Šé«˜)</th><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th><th>ç»“åˆæ€§</th></tr></thead><tbody><tr><td>1</td><td><strong>()</strong></td><td>èšç»„:a*(b+c)</td><td>N/A</td></tr><tr><td>2</td><td><strong>[] () . ++ --</strong></td><td>æ•°ç»„ä¸‹æ ‡__[]<strong>,æ–¹æ³•å‚æ•°__fun(arg1,arg2,arg3)</strong>,å±æ€§è®¿é—®__a.b__,è‡ªå¢/å‡åç¼€__a++ a--__</td><td>L - R</td></tr><tr><td>3</td><td><strong>++ -- + - !</strong></td><td>è‡ªå¢/å‡å‰ç¼€__++a --a__,æ­£è´Ÿå·(ä¸€èˆ¬æ­£å·ä¸å†™)<strong>a ,-a</strong>,å–å__!false__</td><td>R - L</td></tr><tr><td>4</td><td><strong>* /</strong></td><td>ä¹˜é™¤æ•°å­¦è¿ç®—</td><td>L - R</td></tr><tr><td>5</td><td><strong>+ -</strong></td><td>åŠ å‡æ•°å­¦è¿ç®—</td><td>L - R</td></tr><tr><td>7</td><td><strong>&lt; &gt; &lt;= &gt;=</strong></td><td>å…³ç³»è¿ç®—ç¬¦</td><td>L - R</td></tr><tr><td>8</td><td><strong>== !=</strong></td><td>ç›¸ç­‰æ€§è¿ç®—ç¬¦</td><td>L - R</td></tr><tr><td>12</td><td><strong>&amp;&amp;</strong></td><td>é€»è¾‘ä¸</td><td>L - R</td></tr><tr><td>13</td><td><strong>^^</strong></td><td>é€»è¾‘æ’ä»–æˆ–(ç”¨å¤„åŸºæœ¬ç­‰äº!=)</td><td>L - R</td></tr><tr><td>14</td><td><strong>||</strong></td><td>é€»è¾‘æˆ–</td><td>L - R</td></tr><tr><td>15</td><td><strong>? :</strong></td><td>ä¸‰ç›®è¿ç®—ç¬¦</td><td>L - R</td></tr><tr><td>16</td><td><strong>= += -= *= /=</strong></td><td>èµ‹å€¼ä¸å¤åˆèµ‹å€¼</td><td>L - R</td></tr><tr><td>17</td><td><strong>,</strong></td><td>é¡ºåºåˆ†é…è¿ç®—</td><td>L - R</td></tr></tbody></table><p><em>ps å·¦å€¼ä¸å³å€¼:</em></p><pre><code>å·¦å€¼:è¡¨ç¤ºä¸€ä¸ªå‚¨å­˜ä½ç½®,å¯ä»¥æ˜¯å˜é‡,ä¹Ÿå¯ä»¥æ˜¯è¡¨è¾¾å¼,ä½†è¡¨è¾¾å¼æœ€åçš„ç»“æœå¿…é¡»æ˜¯ä¸€ä¸ªå‚¨å­˜ä½ç½®.

å³å€¼:è¡¨ç¤ºä¸€ä¸ªå€¼, å¯ä»¥æ˜¯ä¸€ä¸ªå˜é‡æˆ–è€…è¡¨è¾¾å¼å†æˆ–è€…çº¯ç²¹çš„å€¼.

æ“ä½œç¬¦çš„ä¼˜å…ˆçº§ï¼šå†³å®šå«æœ‰å¤šä¸ªæ“ä½œç¬¦çš„è¡¨è¾¾å¼çš„æ±‚å€¼é¡ºåºï¼Œæ¯ä¸ªæ“ä½œçš„ä¼˜å…ˆçº§ä¸åŒ.

æ“ä½œç¬¦çš„ç»“åˆæ€§ï¼šå†³å®šç›¸åŒä¼˜å…ˆçº§çš„æ“ä½œç¬¦æ˜¯ä»å·¦åˆ°å³è®¡ç®—ï¼Œè¿˜æ˜¯ä»å³åˆ°å·¦è®¡ç®—ã€‚
</code></pre><h3 id="åŸºç¡€ç±»å‹é—´çš„è¿ç®—" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€ç±»å‹é—´çš„è¿ç®—"><span>åŸºç¡€ç±»å‹é—´çš„è¿ç®—:</span></a></h3><p>glslä¸­,æ²¡æœ‰éšå¼ç±»å‹è½¬æ¢,åŸåˆ™ä¸Šglslè¦æ±‚ä»»ä½•è¡¨è¾¾å¼å·¦å³ä¸¤ä¾§(l-value),(r-value)çš„ç±»å‹å¿…é¡»ä¸€è‡´ ä¹Ÿå°±æ˜¯è¯´ä»¥ä¸‹è¡¨è¾¾å¼éƒ½æ˜¯é”™è¯¯çš„:</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //é”™è¯¯,r-valueä¸ºfloat è€Œ lvalue ä¸ºint.</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec3 a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> vec3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¸‹é¢æ¥åˆ†åˆ«è¯´è¯´å¯èƒ½é‡åˆ°çš„æƒ…å†µ:</strong></p><p><strong>1.<code>float</code> ä¸ <code>int</code>:</strong></p><p>floatä¸float , intä¸intä¹‹é—´æ˜¯å¯ä»¥ç›´æ¥è¿ç®—çš„,ä½†floatä¸intä¸è¡Œ.å®ƒä»¬éœ€è¦è¿›è¡Œä¸€æ¬¡æ˜¾ç¤ºè½¬æ¢.å³è¦ä¹ˆæŠŠfloatè½¬æˆint: <strong>int(1.0)</strong><br> ,è¦ä¹ˆæŠŠintè½¬æˆfloat: <strong>float(1)</strong> ,ä»¥ä¸‹è¡¨è¾¾å¼éƒ½æ˜¯æ­£ç¡®çš„:</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6.0</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2.<code>float</code> ä¸ <code>vec(å‘é‡)</code> <code>mat(çŸ©é˜µ)</code>:</strong></p><p>vec,matè¿™äº›ç±»å‹å…¶å®æ˜¯ç”±floatå¤åˆè€Œæˆçš„,å½“å®ƒä»¬ä¸floatè¿ç®—æ—¶,å…¶å®å°±æ˜¯åœ¨æ¯ä¸€ä¸ªåˆ†é‡ä¸Šåˆ†åˆ«ä¸floatè¿›è¡Œè¿ç®—,è¿™å°±æ˜¯æ‰€è°“çš„<code>é€åˆ†é‡</code>è¿ç®—.glslé‡Œ<br> å¤§éƒ¨åˆ†æ¶‰åŠvec,matçš„è¿ç®—éƒ½æ˜¯<code>é€åˆ†é‡</code>è¿ç®—,ä½†ä¹Ÿå¹¶ä¸å…¨æ˜¯. ä¸‹æ–‡ä¸­å°±ä¼šè®²åˆ°ç‰¹ä¾‹.</p><p><code>é€åˆ†é‡</code>è¿ç®—æ˜¯çº¿æ€§çš„,è¿™å°±æ˜¯è¯´ vec ä¸ float çš„è¿ç®—ç»“æœæ˜¯è¿˜æ˜¯ vec.</p><p>int ä¸ vec,matä¹‹é—´æ˜¯ä¸å¯è¿ç®—çš„, å› ä¸ºvecå’Œmatä¸­çš„æ¯ä¸€ä¸ªåˆ†é‡éƒ½æ˜¯ float ç±»å‹çš„. æ— æ³•ä¸intè¿›è¡Œé€åˆ†é‡è®¡ç®—.</p><p>ä¸‹é¢æšä¸¾äº†å‡ ç§ float ä¸ vec,mat è¿ç®—çš„æƒ…å†µ</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec3 a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> vec3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mat3 m </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> mat3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> s </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec3 b </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> s </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // vec3(10.0, 20.0, 30.0)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec3 c </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> s;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // vec3(10.0, 20.0, 30.0)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mat3 m2 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> s </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> m;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // = mat3(10.0)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mat3 m3 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> m </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> s;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // = mat3(10.0)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3. <code>vec(å‘é‡)</code> ä¸ <code>vec(å‘é‡)</code>:</strong></p><p>ä¸¤å‘é‡é—´çš„è¿ç®—é¦–å…ˆè¦ä¿è¯æ“ä½œæ•°çš„é˜¶æ•°éƒ½ç›¸åŒ.å¦åˆ™ä¸èƒ½è®¡ç®—.ä¾‹å¦‚: vec3*vec2 vec4+vec3 ç­‰ç­‰éƒ½æ˜¯ä¸è¡Œçš„.</p><p>å®ƒä»¬çš„è®¡ç®—æ–¹å¼æ˜¯ä¸¤æ“ä½œæ•°åœ¨åŒä½ç½®ä¸Šçš„åˆ†é‡åˆ†åˆ«è¿›è¡Œè¿ç®—,å…¶æœ¬è´¨è¿˜æ˜¯é€åˆ†é‡è¿›è¡Œçš„,è¿™å’Œä¸Šé¢æ‰€è¯´çš„floatç±»å‹çš„<br> é€åˆ†é‡è¿ç®—å¯èƒ½æœ‰ä¸€ç‚¹ç‚¹å·®å¼‚,ç›¸åŒçš„æ˜¯ vec ä¸ vec è¿ç®—ç»“æœè¿˜æ˜¯ vec, ä¸”é˜¶æ•°ä¸å˜.</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec3 a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> vec3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec3 b </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> vec3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec3 c </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // = vec3(1.1, 2.2, 3.3)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec3 d </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // = vec3(0.1, 0.4, 0.9)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="http://wshxbqq-wshxbqq.stor.sinaapp.com/2016-08-08_16-15-35_329___2.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>3. <code>vec(å‘é‡)</code> ä¸ <code>mat(çŸ©é˜µ)</code>:</strong></p><p>è¦ä¿è¯æ“ä½œæ•°çš„é˜¶æ•°ç›¸åŒ,ä¸”vecä¸maté—´åªå­˜åœ¨ä¹˜æ³•è¿ç®—.</p><p>å®ƒä»¬çš„è®¡ç®—æ–¹å¼å’Œçº¿æ€§ä»£æ•°ä¸­çš„çŸ©é˜µä¹˜æ³•ç›¸åŒ,ä¸æ˜¯é€åˆ†é‡è¿ç®—.</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec2 v </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> vec2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mat2 m </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> mat2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,  </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec2 w </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> m </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // = vec2(1. * 10. + 3. * 20., 2. * 10. + 4. * 20.)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec2 v </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> vec2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mat2 m </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> mat2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,  </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec2 w </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> m;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // = vec2(1. * 10. + 2. * 20., 3. * 10. + 4. * 20.)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘é‡ä¸çŸ©é˜µçš„ä¹˜æ³•è§„åˆ™å¦‚ä¸‹:</p><figure><img src="http://wshxbqq-wshxbqq.stor.sinaapp.com/2016-08-08_16-15-36_966___3.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="http://wshxbqq-wshxbqq.stor.sinaapp.com/2016-08-08_16-15-36_284___4.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>4. <code>mat(çŸ©é˜µ)</code> ä¸ <code>mat(çŸ©é˜µ)</code>:</strong></p><p>è¦ä¿è¯æ“ä½œæ•°çš„é˜¶æ•°ç›¸åŒ.</p><p>åœ¨matä¸matçš„è¿ç®—ä¸­, é™¤äº†ä¹˜æ³•æ˜¯çº¿æ€§ä»£æ•°ä¸­çš„çŸ©é˜µä¹˜æ³•å¤–.å…¶ä½™çš„è¿ç®—ä»»ä¸ºé€åˆ†é‡è¿ç®—.ç®€å•è¯´å°±æ˜¯åªæœ‰ä¹˜æ³•æ˜¯ç‰¹æ®Šçš„,å…¶ä½™éƒ½å’Œvecä¸vecè¿ç®—ç±»ä¼¼.</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mat2 a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> mat2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,  </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mat2 b </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> mat2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,  </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mat2 c </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //mat2(1.*10.+3.*20.,2.*10.+4.*20.,1.* 30.+3.*40.,2.* 30.+4.*40.);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mat2 d </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">b;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//mat2(1.+10.,2.+20.,3.+30.,4.+40);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çŸ©é˜µä¹˜æ³•è§„åˆ™å¦‚ä¸‹:</p><figure><img src="http://wshxbqq-wshxbqq.stor.sinaapp.com/2016-08-08_16-15-36_985___5.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="å˜é‡é™å®šç¬¦" tabindex="-1"><a class="header-anchor" href="#å˜é‡é™å®šç¬¦"><span>å˜é‡é™å®šç¬¦:</span></a></h3><table><thead><tr><th>ä¿®é¥°ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>none</strong></td><td>(é»˜è®¤çš„å¯çœç•¥)æœ¬åœ°å˜é‡,å¯è¯»å¯å†™,å‡½æ•°çš„è¾“å…¥å‚æ•°æ—¢æ˜¯è¿™ç§ç±»å‹</td></tr><tr><td><strong>const</strong></td><td>å£°æ˜å˜é‡æˆ–å‡½æ•°çš„å‚æ•°ä¸ºåªè¯»ç±»å‹</td></tr><tr><td><strong>attribute</strong></td><td>åªèƒ½å­˜åœ¨äºvertex shaderä¸­,ä¸€èˆ¬ç”¨äºä¿å­˜é¡¶ç‚¹æˆ–æ³•çº¿æ•°æ®,å®ƒå¯ä»¥åœ¨æ•°æ®ç¼“å†²åŒºä¸­è¯»å–æ•°æ®</td></tr><tr><td><strong>uniform</strong></td><td>åœ¨è¿è¡Œæ—¶shaderæ— æ³•æ”¹å˜uniformå˜é‡, ä¸€èˆ¬ç”¨æ¥æ”¾ç½®ç¨‹åºä¼ é€’ç»™shaderçš„å˜æ¢çŸ©é˜µï¼Œæè´¨ï¼Œå…‰ç…§å‚æ•°ç­‰ç­‰.</td></tr><tr><td><strong>varying</strong></td><td>ä¸»è¦è´Ÿè´£åœ¨vertex å’Œ fragment ä¹‹é—´ä¼ é€’å˜é‡</td></tr></tbody></table><p><strong>const</strong>:</p><p>å’ŒCè¯­è¨€ç±»ä¼¼,è¢«consté™å®šç¬¦ä¿®é¥°çš„å˜é‡åˆå§‹åŒ–åä¸å¯å˜,é™¤äº†å±€éƒ¨å˜é‡,å‡½æ•°å‚æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨constä¿®é¥°ç¬¦.ä½†è¦æ³¨æ„çš„æ˜¯ç»“æ„å˜é‡å¯ä»¥ç”¨constä¿®é¥°,<br> ä½†ç»“æ„ä¸­çš„å­—æ®µä¸è¡Œ.</p><p>constå˜é‡å¿…é¡»åœ¨å£°æ˜æ—¶å°±åˆå§‹åŒ– <code>const vec3 v3 = vec3(0.,0.,0.)</code></p><p>å±€éƒ¨å˜é‡åªèƒ½ä½¿ç”¨consté™å®šç¬¦.</p><p>å‡½æ•°å‚æ•°åªèƒ½ä½¿ç”¨consté™å®šç¬¦.</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> light</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        vec4 color;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        vec3 pos;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        //const vec3 pos1; //ç»“æ„ä¸­çš„å­—æ®µä¸å¯ç”¨constä¿®é¥°ä¼šæŠ¥é”™.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    };</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> light lgt </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> light</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vec4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vec3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //ç»“æ„å˜é‡å¯ä»¥ç”¨constä¿®é¥°</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>attribute</strong>:</p><p>attributeå˜é‡æ˜¯<code>å…¨å±€</code>ä¸”<code>åªè¯»</code>çš„,å®ƒåªèƒ½åœ¨vertex shaderä¸­ä½¿ç”¨,åªèƒ½ä¸æµ®ç‚¹æ•°,å‘é‡æˆ–çŸ©é˜µå˜é‡ç»„åˆ,<br> ä¸€èˆ¬attributeå˜é‡ç”¨æ¥æ”¾ç½®ç¨‹åºä¼ é€’æ¥çš„æ¨¡å‹é¡¶ç‚¹,æ³•çº¿,é¢œè‰²,çº¹ç†ç­‰æ•°æ®å®ƒå¯ä»¥è®¿é—®æ•°æ®ç¼“å†²åŒº<br> (è¿˜è®°å¾—__gl.vertexAttribPointer__è¿™ä¸ªå‡½æ•°å§)</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">attribute vec4 a_Position;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>uniform</strong>:</p><p>uniformå˜é‡æ˜¯<code>å…¨å±€</code>ä¸”<code>åªè¯»</code>çš„,åœ¨æ•´ä¸ªshaderæ‰§è¡Œå®Œæ¯•å‰å…¶å€¼ä¸ä¼šæ”¹å˜,ä»–å¯ä»¥å’Œä»»æ„åŸºæœ¬ç±»å‹å˜é‡ç»„åˆ,<br> ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨uniformå˜é‡æ¥æ”¾ç½®å¤–éƒ¨ç¨‹åºä¼ é€’æ¥çš„ç¯å¢ƒæ•°æ®(å¦‚ç‚¹å…‰æºä½ç½®,æ¨¡å‹çš„å˜æ¢çŸ©é˜µç­‰ç­‰)<br> è¿™äº›æ•°æ®åœ¨è¿è¡Œä¸­æ˜¾ç„¶æ˜¯ä¸éœ€è¦è¢«æ”¹å˜çš„.</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">uniform vec4 lightPosition;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>varying</strong>:</p><p>varyingç±»å‹å˜é‡æ˜¯ vertex shader ä¸ fragment shader ä¹‹é—´çš„ä¿¡ä½¿,ä¸€èˆ¬æˆ‘ä»¬åœ¨ vertex shader ä¸­ä¿®æ”¹å®ƒç„¶ååœ¨fragment shaderä½¿ç”¨å®ƒ,ä½†ä¸èƒ½åœ¨<br> fragment shaderä¸­ä¿®æ”¹å®ƒ.</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//é¡¶ç‚¹ç€è‰²å™¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">varying vec4 v_Color;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(){ </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    v_Color </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> vec4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//ç‰‡å…ƒç€è‰²å™¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">varying vec4 v_Color;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  gl_FragColor </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v_Color;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¦æ³¨æ„å…¨å±€å˜é‡é™åˆ¶ç¬¦åªèƒ½ä¸º constã€attributeã€uniformå’Œvaryingä¸­çš„ä¸€ä¸ª.ä¸å¯å¤åˆ.</p><h3 id="å‡½æ•°å‚æ•°é™å®šç¬¦" tabindex="-1"><a class="header-anchor" href="#å‡½æ•°å‚æ•°é™å®šç¬¦"><span>å‡½æ•°å‚æ•°é™å®šç¬¦:</span></a></h3><p>å‡½æ•°çš„å‚æ•°é»˜è®¤æ˜¯ä»¥æ‹·è´çš„å½¢å¼ä¼ é€’çš„,ä¹Ÿå°±æ˜¯å€¼ä¼ é€’,ä»»ä½•ä¼ é€’ç»™å‡½æ•°å‚æ•°çš„å˜é‡,å…¶å€¼éƒ½ä¼šè¢«å¤åˆ¶ä¸€ä»½,ç„¶åå†äº¤ç»™å‡½æ•°å†…éƒ¨è¿›è¡Œå¤„ç†.<br> æˆ‘ä»¬å¯ä»¥ä¸ºå‚æ•°æ·»åŠ é™å®šç¬¦æ¥è¾¾åˆ°ä¼ é€’å¼•ç”¨çš„ç›®çš„,glslä¸­æä¾›çš„å‚æ•°é™å®šç¬¦å¦‚ä¸‹:</p><table><thead><tr><th>é™å®šç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>&lt; none: default &gt;</td><td>é»˜è®¤ä½¿ç”¨ in é™å®šç¬¦</td></tr><tr><td>in</td><td>å¤åˆ¶åˆ°å‡½æ•°ä¸­åœ¨å‡½æ•°ä¸­å¯è¯»å†™</td></tr><tr><td>out</td><td>è¿”å›æ—¶ä»å‡½æ•°ä¸­å¤åˆ¶å‡ºæ¥</td></tr><tr><td>inout</td><td>å¤åˆ¶åˆ°å‡½æ•°ä¸­å¹¶åœ¨è¿”å›æ—¶å¤åˆ¶å‡ºæ¥</td></tr></tbody></table><p><code>in</code> æ˜¯å‡½æ•°å‚æ•°çš„é»˜è®¤é™å®šç¬¦,æœ€ç»ˆçœŸæ­£ä¼ å…¥å‡½æ•°å½¢å‚çš„å…¶å®æ˜¯å®å‚çš„ä¸€ä»½æ‹·è´.åœ¨å‡½æ•°ä¸­,ä¿®æ”¹inä¿®é¥°çš„å½¢å‚ä¸ä¼šå½±å“åˆ°å®å‚å˜é‡æœ¬èº«.</p><p><code>out</code> å®ƒçš„ä½œç”¨æ˜¯å‘å‡½æ•°å¤–éƒ¨ä¼ é€’æ–°å€¼,outæ¨¡å¼ä¸‹ä¼ é€’è¿›æ¥çš„å‚æ•°æ˜¯write-onlyçš„(å¯å†™ä¸å¯è¯»).å°±åƒæ˜¯ä¸€ä¸ª&quot;å‘ä½&quot;,å‘ä½ä¸­çš„å€¼éœ€è¦å‡½æ•°ç»™ä»–èµ‹äºˆ.<br> åœ¨å‡½æ•°ä¸­,ä¿®æ”¹outä¿®é¥°çš„å½¢å‚ä¼šå½±å“åˆ°å®å‚æœ¬èº«.</p><p><code>inout</code> inoutä¸‹,å½¢å‚å¯ä»¥è¢«ç†è§£ä¸ºæ˜¯ä¸€ä¸ªå¸¦å€¼çš„&quot;å‘ä½&quot;,åŠå¯è¯»ä¹Ÿå¯å†™,åœ¨å‡½æ•°ä¸­,ä¿®æ”¹inoutä¿®é¥°çš„å½¢å‚ä¼šå½±å“åˆ°å®å‚æœ¬èº«.</p><h3 id="glslçš„å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#glslçš„å‡½æ•°"><span>glslçš„å‡½æ•°:</span></a></h3><p>glslå…è®¸åœ¨ç¨‹åºçš„æœ€å¤–éƒ¨å£°æ˜å‡½æ•°.å‡½æ•°ä¸èƒ½åµŒå¥—,ä¸èƒ½é€’å½’è°ƒç”¨,ä¸”å¿…é¡»å£°æ˜è¿”å›å€¼ç±»å‹(æ— è¿”å›å€¼æ—¶å£°æ˜ä¸ºvoid) åœ¨å…¶ä»–æ–¹é¢glslå‡½æ•°ä¸cå‡½æ•°éå¸¸ç±»ä¼¼.</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getPosition</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(){ </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    vec4 v4 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> vec4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v4;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> doubleSize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">inout</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> float</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> size</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    size</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> size</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> psize</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    doubleSize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(psize);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    gl_Position </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getPosition</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    gl_PointSize </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> psize;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ„é€ å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#æ„é€ å‡½æ•°"><span>æ„é€ å‡½æ•°:</span></a></h3><p>glslä¸­å˜é‡å¯ä»¥åœ¨å£°æ˜çš„æ—¶å€™åˆå§‹åŒ–,<code>float pSize = 10.0</code> ä¹Ÿå¯ä»¥å…ˆå£°æ˜ç„¶åç­‰éœ€è¦çš„æ—¶å€™åœ¨è¿›è¡Œèµ‹å€¼.</p><p>èšåˆç±»å‹å¯¹è±¡å¦‚(å‘é‡,çŸ©é˜µ,æ•°ç»„,ç»“æ„) éœ€è¦ä½¿ç”¨å…¶æ„é€ å‡½æ•°æ¥è¿›è¡Œåˆå§‹åŒ–. <code>vec4 color = vec4(0.0, 1.0, 0.0, 1.0);</code></p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//ä¸€èˆ¬ç±»å‹</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pSize </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pSize1;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pSize1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//å¤åˆç±»å‹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec4 color </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> vec4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec4 color1;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">color1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vec4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//ç»“æ„</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> light</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> intensity;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    vec3 position;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">light lightVar </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> light</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vec3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> float</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">](</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7.2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç±»å‹è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#ç±»å‹è½¬æ¢"><span>ç±»å‹è½¬æ¢:</span></a></h3><p>glslå¯ä»¥ä½¿ç”¨æ„é€ å‡½æ•°è¿›è¡Œæ˜¾å¼ç±»å‹è½¬æ¢,å„å€¼å¦‚ä¸‹:</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> f </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(t);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //trueè½¬æ¢ä¸º1æˆ–1.0</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(f);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//falseè½¬æ¢ä¸º0æˆ–0.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(t);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> b1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(f);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> c </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//0æˆ–0.0è½¬æ¢ä¸ºfalse</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> c1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//é0è½¬æ¢ä¸ºtrue</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> d </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> d1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> bool</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç²¾åº¦é™å®š" tabindex="-1"><a class="header-anchor" href="#ç²¾åº¦é™å®š"><span>ç²¾åº¦é™å®š:</span></a></h3><p>glslåœ¨è¿›è¡Œå…‰æ …åŒ–ç€è‰²çš„æ—¶å€™,ä¼šäº§ç”Ÿå¤§é‡çš„æµ®ç‚¹æ•°è¿ç®—,è¿™äº›è¿ç®—å¯èƒ½æ˜¯å½“å‰è®¾å¤‡æ‰€ä¸èƒ½æ‰¿å—çš„,æ‰€ä»¥glslæä¾›äº†3ç§æµ®ç‚¹æ•°ç²¾åº¦,æˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸åŒçš„è®¾å¤‡æ¥ä½¿ç”¨åˆé€‚çš„ç²¾åº¦.</p><p>åœ¨å˜é‡å‰é¢åŠ ä¸Š <code>highp</code> <code>mediump</code> <code>lowp</code> å³å¯å®Œæˆå¯¹è¯¥å˜é‡çš„ç²¾åº¦å£°æ˜.</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>lowp float color;</span></span>
<span class="line"><span>varying mediump vec2 Coord;</span></span>
<span class="line"><span>lowp ivec2 foo(lowp mat3);</span></span>
<span class="line"><span>highp mat4 m;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬ä¸€èˆ¬åœ¨ç‰‡å…ƒç€è‰²å™¨(fragment shader)æœ€å¼€å§‹çš„åœ°æ–¹åŠ ä¸Š <code>precision mediump float;</code> ä¾¿è®¾å®šäº†é»˜è®¤çš„ç²¾åº¦.è¿™æ ·æ‰€æœ‰æ²¡æœ‰æ˜¾å¼è¡¨æ˜ç²¾åº¦çš„å˜é‡<br> éƒ½ä¼šæŒ‰ç…§è®¾å®šå¥½çš„é»˜è®¤ç²¾åº¦æ¥å¤„ç†.</p><p><strong>å¦‚ä½•ç¡®å®šç²¾åº¦:</strong></p><p>å˜é‡çš„ç²¾åº¦é¦–å…ˆæ˜¯ç”±ç²¾åº¦é™å®šç¬¦å†³å®šçš„,å¦‚æœæ²¡æœ‰ç²¾åº¦é™å®šç¬¦,åˆ™è¦å¯»æ‰¾å…¶å³ä¾§è¡¨è¾¾å¼ä¸­,å·²ç»ç¡®å®šç²¾åº¦çš„å˜é‡,ä¸€æ—¦æ‰¾åˆ°,é‚£ä¹ˆæ•´ä¸ªè¡¨è¾¾å¼éƒ½å°†åœ¨è¯¥ç²¾åº¦ä¸‹è¿è¡Œ.å¦‚æœæ‰¾åˆ°å¤šä¸ª,<br> åˆ™é€‰æ‹©ç²¾åº¦è¾ƒé«˜çš„é‚£ç§,å¦‚æœä¸€ä¸ªéƒ½æ‰¾ä¸åˆ°,åˆ™ä½¿ç”¨é»˜è®¤æˆ–æ›´å¤§çš„ç²¾åº¦ç±»å‹.</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">uniform highp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> h1;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">highp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> h2 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2.3</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> *</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4.7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //è¿ç®—è¿‡ç¨‹å’Œç»“æœéƒ½ æ˜¯é«˜ç²¾åº¦</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mediump </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> m;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">m </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3.7</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> h1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> h2;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //è¿ç®—è¿‡ç¨‹ æ˜¯é«˜ç²¾åº¦</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">h2 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> m </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> h1;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //è¿ç®—è¿‡ç¨‹ æ˜¯é«˜ç²¾åº¦</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">m </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> h2 â€“ h1;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //è¿ç®—è¿‡ç¨‹ æ˜¯é«˜ç²¾åº¦</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">h2 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> m </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> m;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //è¿ç®—è¿‡ç¨‹å’Œç»“æœéƒ½ æ˜¯ä¸­ç­‰ç²¾åº¦</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">highp</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> float</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // å½¢å‚ p æ˜¯é«˜ç²¾åº¦</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3.3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //ä¼ å…¥çš„ 3.3æ˜¯é«˜ç²¾åº¦</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>invariantå…³é”®å­—:</strong></p><p>ç”±äºshaderåœ¨ç¼–è¯‘æ—¶ä¼šè¿›è¡Œä¸€äº›å†…éƒ¨ä¼˜åŒ–,å¯èƒ½ä¼šå¯¼è‡´åŒæ ·çš„è¿ç®—åœ¨ä¸åŒshaderé‡Œç»“æœä¸ä¸€å®šç²¾ç¡®ç›¸ç­‰.è¿™ä¼šå¼•èµ·ä¸€äº›é—®é¢˜,å°¤å…¶æ˜¯vertx shaderå‘fragmeng shaderä¼ å€¼çš„æ—¶å€™.<br> æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨<code>invariant</code> å…³é”®å­—æ¥æ˜¾å¼è¦æ±‚è®¡ç®—ç»“æœå¿…é¡»ç²¾ç¡®ä¸€è‡´. å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä½¿ç”¨ <code>#pragma STDGL invariant(all)</code>æ¥å‘½ä»¤æ‰€æœ‰è¾“å‡ºå˜é‡å¿…é¡»ç²¾ç¡®ä¸€è‡´,<br> ä½†è¿™æ ·ä¼šé™åˆ¶ç¼–è¯‘å™¨ä¼˜åŒ–ç¨‹åº¦,é™ä½æ€§èƒ½.</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#pragma</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> STDGL</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> invariant</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">all</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //æ‰€æœ‰è¾“å‡ºå˜é‡ä¸º invariant</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">invariant varying texCoord;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //varyingåœ¨ä¼ é€’æ•°æ®çš„æ—¶å€™å£°æ˜ä¸ºinvariant</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é™å®šç¬¦çš„é¡ºåº:</strong></p><p>å½“éœ€è¦ç”¨åˆ°å¤šä¸ªé™å®šç¬¦çš„æ—¶å€™è¦éµå¾ªä»¥ä¸‹é¡ºåº:</p><p>1.åœ¨ä¸€èˆ¬å˜é‡ä¸­: invariant &gt; storage &gt; precision</p><p>2.åœ¨å‚æ•°ä¸­: storage &gt; parameter &gt; precision</p><p>æˆ‘ä»¬æ¥ä¸¾ä¾‹è¯´æ˜:</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">invariant varying lowp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> color;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // invariant &gt; storage &gt; precision</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> doubleSize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> in</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> lowp</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> float</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">){</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //storage &gt; parameter &gt; precision</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> s1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">s;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é¢„ç¼–è¯‘æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#é¢„ç¼–è¯‘æŒ‡ä»¤"><span>é¢„ç¼–è¯‘æŒ‡ä»¤:</span></a></h3><p>ä»¥ # å¼€å¤´çš„æ˜¯é¢„ç¼–è¯‘æŒ‡ä»¤,å¸¸ç”¨çš„æœ‰:</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#define #undef #if #ifdef #ifndef #else</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#elif</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> #endif</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> #error</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> #pragma</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> #extension</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> #version</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> #line</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¯”å¦‚ <strong>#version 100</strong> ä»–çš„æ„æ€æ˜¯è§„å®šå½“å‰shaderä½¿ç”¨ GLSL ES 1.00æ ‡å‡†è¿›è¡Œç¼–è¯‘,å¦‚æœä½¿ç”¨è¿™æ¡é¢„ç¼–è¯‘æŒ‡ä»¤,åˆ™ä»–å¿…é¡»å‡ºç°åœ¨ç¨‹åºçš„æœ€å¼€å§‹ä½ç½®.</p><p><strong>å†…ç½®çš„å®:</strong></p><p><code>__LINE__</code> : å½“å‰æºç ä¸­çš„è¡Œå·.</p><p><code>__VERSION__</code> : ä¸€ä¸ªæ•´æ•°,æŒ‡ç¤ºå½“å‰çš„glslç‰ˆæœ¬ æ¯”å¦‚ 100 ps: 100 = v1.00</p><p><code>GL_ES</code> : å¦‚æœå½“å‰æ˜¯åœ¨ OPGL ES ç¯å¢ƒä¸­è¿è¡Œåˆ™ GL_ES è¢«è®¾ç½®æˆ1,ä¸€èˆ¬ç”¨æ¥æ£€æŸ¥å½“å‰ç¯å¢ƒæ˜¯ä¸æ˜¯ OPENGL ES.</p><p><code>GL_FRAGMENT_PRECISION_HIGH</code> : å¦‚æœå½“å‰ç³»ç»Ÿglslçš„ç‰‡å…ƒç€è‰²å™¨æ”¯æŒé«˜æµ®ç‚¹ç²¾åº¦,åˆ™è®¾ç½®ä¸º1.ä¸€èˆ¬ç”¨äºæ£€æŸ¥ç€è‰²å™¨ç²¾åº¦.</p><p>å®ä¾‹:</p><p>1.å¦‚ä½•é€šè¿‡åˆ¤æ–­ç³»ç»Ÿç¯å¢ƒ,æ¥é€‰æ‹©åˆé€‚çš„ç²¾åº¦:</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#ifdef</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> GL_ES</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#ifdef</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> GL_FRAGMENT_PRECISION_HIGH</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">precision highp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#else</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">precision mediump </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#endif</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#endif</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2.è‡ªå®šä¹‰å®:</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#define</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> NUM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#if</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> NUM</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">#endif</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å†…ç½®çš„ç‰¹æ®Šå˜é‡" tabindex="-1"><a class="header-anchor" href="#å†…ç½®çš„ç‰¹æ®Šå˜é‡"><span>å†…ç½®çš„ç‰¹æ®Šå˜é‡</span></a></h3><p>glslç¨‹åºä½¿ç”¨ä¸€äº›ç‰¹æ®Šçš„å†…ç½®å˜é‡ä¸ç¡¬ä»¶è¿›è¡Œæ²Ÿé€š.ä»–ä»¬å¤§è‡´åˆ†æˆä¸¤ç§ ä¸€ç§æ˜¯ <code>input</code>ç±»å‹,ä»–è´Ÿè´£å‘ç¡¬ä»¶(æ¸²æŸ“ç®¡çº¿)å‘é€æ•°æ®.<br> å¦ä¸€ç§æ˜¯<code>output</code>ç±»å‹,è´Ÿè´£å‘ç¨‹åºå›ä¼ æ•°æ®,ä»¥ä¾¿ç¼–ç¨‹æ—¶éœ€è¦.</p><p><strong>åœ¨ vertex Shader ä¸­:</strong></p><p>output ç±»å‹çš„å†…ç½®å˜é‡:</p><table><thead><tr><th>å˜é‡</th><th>è¯´æ˜</th><th>å•ä½</th></tr></thead><tbody><tr><td>highp vec4 <code>gl_Position</code>;</td><td>gl_Position æ”¾ç½®é¡¶ç‚¹åæ ‡ä¿¡æ¯</td><td>vec4</td></tr><tr><td>mediump float <code>gl_PointSize</code>;</td><td>gl_PointSize éœ€è¦ç»˜åˆ¶ç‚¹çš„å¤§å°,(åªåœ¨gl.POINTSæ¨¡å¼ä¸‹æœ‰æ•ˆ)</td><td>float</td></tr></tbody></table><p><strong>åœ¨ fragment Shader ä¸­:</strong></p><p>input ç±»å‹çš„å†…ç½®å˜é‡:</p><table><thead><tr><th>å˜é‡</th><th>è¯´æ˜</th><th>å•ä½</th></tr></thead><tbody><tr><td>mediump vec4 <code>gl_FragCoord</code>;</td><td>ç‰‡å…ƒåœ¨framebufferç”»é¢çš„ç›¸å¯¹ä½ç½®</td><td>vec4</td></tr><tr><td>bool <code>gl_FrontFacing</code>;</td><td>æ ‡å¿—å½“å‰å›¾å…ƒæ˜¯ä¸æ˜¯æ­£é¢å›¾å…ƒçš„ä¸€éƒ¨åˆ†</td><td>bool</td></tr><tr><td>mediump vec2 <code>gl_PointCoord</code>;</td><td>ç»è¿‡æ’å€¼è®¡ç®—åçš„çº¹ç†åæ ‡,ç‚¹çš„èŒƒå›´æ˜¯0.0åˆ°1.0</td><td>vec2</td></tr></tbody></table><p>output ç±»å‹çš„å†…ç½®å˜é‡:</p><table><thead><tr><th>å˜é‡</th><th>è¯´æ˜</th><th>å•ä½</th></tr></thead><tbody><tr><td>mediump vec4 <code>gl_FragColor</code>;</td><td>è®¾ç½®å½“å‰ç‰‡ç‚¹çš„é¢œè‰²</td><td>vec4 RGBA color</td></tr><tr><td>mediump vec4 <code>gl_FragData[n]</code></td><td>è®¾ç½®å½“å‰ç‰‡ç‚¹çš„é¢œè‰²,ä½¿ç”¨glDrawBuffersæ•°æ®æ•°ç»„</td><td>vec4 RGBA color</td></tr></tbody></table><h3 id="å†…ç½®çš„å¸¸é‡" tabindex="-1"><a class="header-anchor" href="#å†…ç½®çš„å¸¸é‡"><span>å†…ç½®çš„å¸¸é‡</span></a></h3><p>glslæä¾›äº†ä¸€äº›å†…ç½®çš„å¸¸é‡,ç”¨æ¥è¯´æ˜å½“å‰ç³»ç»Ÿçš„ä¸€äº›ç‰¹æ€§. æœ‰æ—¶æˆ‘ä»¬éœ€è¦é’ˆå¯¹è¿™äº›ç‰¹æ€§,å¯¹shaderç¨‹åºè¿›è¡Œä¼˜åŒ–,è®©ç¨‹åºå…¼å®¹åº¦æ›´å¥½.</p><p><strong>åœ¨ vertex Shader ä¸­:</strong></p><p>1.const mediump int <code>gl_MaxVertexAttribs</code>&gt;=8</p><p>gl_MaxVertexAttribs è¡¨ç¤ºåœ¨vertex shader(é¡¶ç‚¹ç€è‰²å™¨)ä¸­å¯ç”¨çš„æœ€å¤§attributesæ•°.è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°,<br> ä¸è¿‡æœ€ä½ä¸èƒ½å°äº 8 ä¸ª.</p><p>2.const mediump int <code>gl_MaxVertexUniformVectors</code> &gt;= 128</p><p>gl_MaxVertexUniformVectors è¡¨ç¤ºåœ¨vertex shader(é¡¶ç‚¹ç€è‰²å™¨)ä¸­å¯ç”¨çš„æœ€å¤§uniform vectorsæ•°. è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°,<br> ä¸è¿‡æœ€ä½ä¸èƒ½å°äº 128 ä¸ª.</p><p>3.const mediump int <code>gl_MaxVaryingVectors</code> &gt;= 8</p><p>gl_MaxVaryingVectors è¡¨ç¤ºåœ¨vertex shader(é¡¶ç‚¹ç€è‰²å™¨)ä¸­å¯ç”¨çš„æœ€å¤§varying vectorsæ•°. è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°,<br> ä¸è¿‡æœ€ä½ä¸èƒ½å°äº 8 ä¸ª.</p><p>4.const mediump int <code>gl_MaxVertexTextureImageUnits</code> &gt;= 0</p><p>gl_MaxVaryingVectors è¡¨ç¤ºåœ¨vertex shader(é¡¶ç‚¹ç€è‰²å™¨)ä¸­å¯ç”¨çš„æœ€å¤§çº¹ç†å•å…ƒæ•°(è´´å›¾). è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°,<br> ç”šè‡³å¯ä»¥ä¸€ä¸ªéƒ½æ²¡æœ‰(æ— æ³•è·å–é¡¶ç‚¹çº¹ç†)</p><p>5.const mediump int <code>gl_MaxCombinedTextureImageUnits</code> &gt;= 8</p><p>gl_MaxVaryingVectors è¡¨ç¤ºåœ¨ vertex Shaderå’Œfragment Shaderæ€»å…±æœ€å¤šæ”¯æŒå¤šå°‘ä¸ªçº¹ç†å•å…ƒ. è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°,<br> ä¸è¿‡æœ€ä½ä¸èƒ½å°äº 8 ä¸ª.</p><p><strong>åœ¨ fragment Shader ä¸­:</strong></p><p>1.const mediump int <code>gl_MaxTextureImageUnits</code> &gt;= 8</p><p>gl_MaxVaryingVectors è¡¨ç¤ºåœ¨ fragment Shader(ç‰‡å…ƒç€è‰²å™¨)ä¸­èƒ½è®¿é—®çš„æœ€å¤§çº¹ç†å•å…ƒæ•°,è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°,<br> ä¸è¿‡æœ€ä½ä¸èƒ½å°äº 8 ä¸ª.</p><p>2.const mediump int <code>gl_MaxFragmentUniformVectors</code> &gt;= 16</p><p>gl_MaxFragmentUniformVectors è¡¨ç¤ºåœ¨ fragment Shader(ç‰‡å…ƒç€è‰²å™¨)ä¸­å¯ç”¨çš„æœ€å¤§uniform vectorsæ•°,è¿™ä¸ªå€¼çš„å¤§å°å–å†³äº OpenGL ES åœ¨æŸè®¾å¤‡ä¸Šçš„å…·ä½“å®ç°,<br> ä¸è¿‡æœ€ä½ä¸èƒ½å°äº 16 ä¸ª.</p><p>3.const mediump int <code>gl_MaxDrawBuffers</code> = 1</p><p>gl_MaxDrawBuffers è¡¨ç¤ºå¯ç”¨çš„drawBuffersæ•°,åœ¨OpenGL ES 2.0ä¸­è¿™ä¸ªå€¼ä¸º1, åœ¨å°†æ¥çš„ç‰ˆæœ¬å¯èƒ½ä¼šæœ‰æ‰€å˜åŒ–.</p><p>glslä¸­è¿˜æœ‰ä¸€ç§å†…ç½®çš„uniformçŠ¶æ€å˜é‡, <code>gl_DepthRange</code> å®ƒç”¨æ¥è¡¨æ˜å…¨å±€æ·±åº¦èŒƒå›´.</p><p>ç»“æ„å¦‚ä¸‹:</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">struct</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> gl_DepthRangeParameters</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> highp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> near;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // n</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> highp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> far;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // f</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> highp </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> diff;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // f - n</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> uniform gl_DepthRangeParameters gl_DepthRange;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é™¤äº† gl_DepthRange å¤–çš„æ‰€æœ‰uniformçŠ¶æ€å¸¸é‡éƒ½å·²åœ¨glsl 1.30 ä¸­<code>åºŸå¼ƒ</code>.</p><h3 id="æµæ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#æµæ§åˆ¶"><span>æµæ§åˆ¶</span></a></h3><p>glslçš„æµæ§åˆ¶å’Œcè¯­è¨€éå¸¸ç›¸ä¼¼,è¿™é‡Œä¸å¿…å†åšè¿‡å¤šè¯´æ˜,å”¯ä¸€ä¸åŒçš„æ˜¯ç‰‡æ®µç€è‰²å™¨ä¸­æœ‰ä¸€ç§ç‰¹æ®Šçš„æ§åˆ¶æµ<code>discard</code>.<br> ä½¿ç”¨discardä¼šé€€å‡ºç‰‡æ®µç€è‰²å™¨ï¼Œä¸æ‰§è¡Œåé¢çš„ç‰‡æ®µç€è‰²æ“ä½œã€‚ç‰‡æ®µä¹Ÿä¸ä¼šå†™å…¥å¸§ç¼“å†²åŒºã€‚</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (l </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; l </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> numLights; l</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">lightExists</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[l]);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        continue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    color </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> light</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[l];</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">while</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (i </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> num)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    sum </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> color</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[i];</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    i</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">do</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    color </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> light</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[lightNum];</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    lightNum</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">--</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">while</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (lightNum </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    discard;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å†…ç½®å‡½æ•°åº“" tabindex="-1"><a class="header-anchor" href="#å†…ç½®å‡½æ•°åº“"><span>å†…ç½®å‡½æ•°åº“</span></a></h3><p>glslæä¾›äº†éå¸¸ä¸°å¯Œçš„å‡½æ•°åº“,ä¾›æˆ‘ä»¬ä½¿ç”¨,è¿™äº›åŠŸèƒ½éƒ½æ˜¯éå¸¸æœ‰ç”¨ä¸”ä¼šç»å¸¸ç”¨åˆ°çš„. è¿™äº›å‡½æ•°æŒ‰åŠŸèƒ½åŒºåˆ†å¤§æ”¹å¯ä»¥åˆ†æˆ7ç±»:</p><p><strong>é€šç”¨å‡½æ•°:</strong></p><p>ä¸‹æ–‡ä¸­çš„ ç±»å‹ Tå¯ä»¥æ˜¯ float, vec2, vec3, vec4,ä¸”å¯ä»¥é€åˆ†é‡æ“ä½œ.</p><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>T abs(T x)</td><td>è¿”å›xçš„ç»å¯¹å€¼</td></tr><tr><td>T sign(T x)</td><td>æ¯”è¾ƒxä¸0çš„å€¼,å¤§äº,ç­‰äº,å°äº åˆ†åˆ«è¿”å› 1.0 ,0.0,-1.0</td></tr><tr><td>T floor(T x)</td><td>è¿”å›&lt;=xçš„æœ€å¤§æ•´æ•°</td></tr><tr><td>T ceil(T x)</td><td>è¿”å›&gt;=ç­‰äºxçš„æœ€å°æ•´æ•°</td></tr><tr><td>T fract(T x)</td><td>è·å–xçš„å°æ•°éƒ¨åˆ†</td></tr><tr><td>T mod(T x, T y) <br> T mod(T x, float y)</td><td>å–x,yçš„ä½™æ•°</td></tr><tr><td>T min(T x, T y) <br> T min(T x, float y)</td><td>å–x,yçš„æœ€å°å€¼</td></tr><tr><td>T max(T x, T y) <br> T max(T x, float y)</td><td>å–x,yçš„æœ€å¤§å€¼</td></tr><tr><td>T clamp(T x, T minVal, T maxVal) <br>T clamp(T x, float minVal,float maxVal)</td><td>min(max(x, minVal), maxVal),è¿”å›å€¼è¢«é™å®šåœ¨ minVal,maxValä¹‹é—´</td></tr><tr><td>T mix(T x, T y, T a) <br> T mix(T x, T y, float a)</td><td>å–x,yçš„çº¿æ€§æ··åˆ,x*(1-a)+y*a</td></tr><tr><td>T step(T edge, T x) <br> T step(float edge, T x)</td><td>å¦‚æœ x&lt;edge è¿”å› 0.0 å¦åˆ™è¿”å›1.0</td></tr><tr><td>T smoothstep(T edge0, T edge1, T x) <br> T smoothstep(float edge0,float edge1, T x)</td><td>å¦‚æœx&lt;edge0 è¿”å› 0.0 å¦‚æœx&gt;edge1è¿”å›1.0, å¦åˆ™è¿”å›Hermiteæ’å€¼</td></tr></tbody></table><p><strong>è§’åº¦&amp;ä¸‰è§’å‡½æ•°:</strong></p><p>ä¸‹æ–‡ä¸­çš„ ç±»å‹ Tå¯ä»¥æ˜¯ float, vec2, vec3, vec4,ä¸”å¯ä»¥é€åˆ†é‡æ“ä½œ.</p><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>T radians(T degrees)</td><td>è§’åº¦è½¬å¼§åº¦</td></tr><tr><td>T degrees(T radians)</td><td>å¼§åº¦è½¬è§’åº¦</td></tr><tr><td>T sin(T angle)</td><td>æ­£å¼¦å‡½æ•°,è§’åº¦æ˜¯å¼§åº¦</td></tr><tr><td>T cos(T angle)</td><td>ä½™å¼¦å‡½æ•°,è§’åº¦æ˜¯å¼§åº¦</td></tr><tr><td>T tan(T angle)</td><td>æ­£åˆ‡å‡½æ•°,è§’åº¦æ˜¯å¼§åº¦</td></tr><tr><td>T asin(T x)</td><td>åæ­£å¼¦å‡½æ•°,è¿”å›å€¼æ˜¯å¼§åº¦</td></tr><tr><td>T acos(T x)</td><td>åä½™å¼¦å‡½æ•°,è¿”å›å€¼æ˜¯å¼§åº¦</td></tr><tr><td>T atan(T y, T x)<br> T atan(T y_over_x)</td><td>åæ­£åˆ‡å‡½æ•°,è¿”å›å€¼æ˜¯å¼§åº¦</td></tr></tbody></table><p><strong>æŒ‡æ•°å‡½æ•°:</strong></p><p>ä¸‹æ–‡ä¸­çš„ ç±»å‹ Tå¯ä»¥æ˜¯ float, vec2, vec3, vec4,ä¸”å¯ä»¥é€åˆ†é‡æ“ä½œ.</p><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>T pow(T x, T y)</td><td>è¿”å›xçš„yæ¬¡å¹‚ x<sub>y</sub></td></tr><tr><td>T exp(T x)</td><td>è¿”å›xçš„è‡ªç„¶æŒ‡æ•°å¹‚ e<sub>x</sub></td></tr><tr><td>T log(T x)</td><td>è¿”å›xçš„è‡ªç„¶å¯¹æ•° ln</td></tr><tr><td>T exp2(T x)</td><td>è¿”å›2çš„xæ¬¡å¹‚ 2<sub>x</sub></td></tr><tr><td>T log2(T x)</td><td>è¿”å›2ä¸ºåº•çš„å¯¹æ•° log2</td></tr><tr><td>T sqrt(T x)</td><td>å¼€æ ¹å· âˆšx</td></tr><tr><td>T inversesqrt(T x)</td><td>å…ˆå¼€æ ¹å·,åœ¨å–å€’æ•°,å°±æ˜¯ 1/âˆšx</td></tr></tbody></table><p><strong>å‡ ä½•å‡½æ•°:</strong></p><p>ä¸‹æ–‡ä¸­çš„ ç±»å‹ Tå¯ä»¥æ˜¯ float, vec2, vec3, vec4,ä¸”å¯ä»¥é€åˆ†é‡æ“ä½œ.</p><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>float length(T x)</td><td>è¿”å›çŸ¢é‡xçš„é•¿åº¦</td></tr><tr><td>float distance(T p0, T p1)</td><td>è¿”å›p0 p1ä¸¤ç‚¹çš„è·ç¦»</td></tr><tr><td>float dot(T x, T y)</td><td>è¿”å›x yçš„ç‚¹ç§¯</td></tr><tr><td>vec3 cross(vec3 x, vec3 y)</td><td>è¿”å›x yçš„å‰ç§¯</td></tr><tr><td>T normalize(T x)</td><td>å¯¹xè¿›è¡Œå½’ä¸€åŒ–,ä¿æŒå‘é‡æ–¹å‘ä¸å˜ä½†é•¿åº¦å˜ä¸º1</td></tr><tr><td>T faceforward(T N, T I, T Nref)</td><td>æ ¹æ® çŸ¢é‡ N ä¸Nref è°ƒæ•´æ³•å‘é‡</td></tr><tr><td>T reflect(T I, T N)</td><td>è¿”å› I - 2 * dot(N,I) * N, ç»“æœæ˜¯å…¥å°„çŸ¢é‡ I å…³äºæ³•å‘é‡Nçš„ é•œé¢åå°„çŸ¢é‡</td></tr><tr><td>T refract(T I, T N, float eta)</td><td>è¿”å›å…¥å°„çŸ¢é‡Iå…³äºæ³•å‘é‡Nçš„æŠ˜å°„çŸ¢é‡,æŠ˜å°„ç‡ä¸ºeta</td></tr></tbody></table><p><strong>çŸ©é˜µå‡½æ•°:</strong></p><p>matå¯ä»¥ä¸ºä»»æ„ç±»å‹çŸ©é˜µ.</p><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>mat matrixCompMult(mat x, mat y)</td><td>å°†çŸ©é˜µ x å’Œ yçš„å…ƒç´ é€åˆ†é‡ç›¸ä¹˜</td></tr></tbody></table><p><strong>å‘é‡å‡½æ•°:</strong></p><p>ä¸‹æ–‡ä¸­çš„ ç±»å‹ Tå¯ä»¥æ˜¯ vec2, vec3, vec4, ä¸”å¯ä»¥é€åˆ†é‡æ“ä½œ.</p><p>bvecæŒ‡çš„æ˜¯ç”±boolç±»å‹ç»„æˆçš„ä¸€ä¸ªå‘é‡:</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec3 v3</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> vec3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">vec3 v3_1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> vec3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">bvec3 aa</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> lessThan</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(v3,v3_1);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //bvec3(true,true,true)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>bvec lessThan(T x, T y)</td><td>é€åˆ†é‡æ¯”è¾ƒx &lt; y,å°†ç»“æœå†™å…¥bvecå¯¹åº”ä½ç½®</td></tr><tr><td>bvec lessThanEqual(T x, T y)</td><td>é€åˆ†é‡æ¯”è¾ƒ x &lt;= y,å°†ç»“æœå†™å…¥bvecå¯¹åº”ä½ç½®</td></tr><tr><td>bvec greaterThan(T x, T y)</td><td>é€åˆ†é‡æ¯”è¾ƒ x &gt; y,å°†ç»“æœå†™å…¥bvecå¯¹åº”ä½ç½®</td></tr><tr><td>bvec greaterThanEqual(T x, T y)</td><td>é€åˆ†é‡æ¯”è¾ƒ x &gt;= y,å°†ç»“æœå†™å…¥bvecå¯¹åº”ä½ç½®</td></tr><tr><td>bvec equal(T x, T y) <br> bvec equal(bvec x, bvec y)</td><td>é€åˆ†é‡æ¯”è¾ƒ x == y,å°†ç»“æœå†™å…¥bvecå¯¹åº”ä½ç½®</td></tr><tr><td>bvec notEqual(T x, T y) <br> bvec notEqual(bvec x, bvec y)</td><td>é€åˆ†é‡æ¯”è¾ƒ x!= y,å°†ç»“æœå†™å…¥bvecå¯¹åº”ä½ç½®</td></tr><tr><td>bool any(bvec x)</td><td>å¦‚æœxçš„ä»»æ„ä¸€ä¸ªåˆ†é‡æ˜¯true,åˆ™ç»“æœä¸ºtrue</td></tr><tr><td>bool all(bvec x)</td><td>å¦‚æœxçš„æ‰€æœ‰åˆ†é‡æ˜¯true,åˆ™ç»“æœä¸ºtrue</td></tr><tr><td>bvec not(bvec x)</td><td>boolçŸ¢é‡çš„é€åˆ†é‡å–å</td></tr></tbody></table><p><strong>çº¹ç†æŸ¥è¯¢å‡½æ•°:</strong></p><p>å›¾åƒçº¹ç†æœ‰ä¸¤ç§ ä¸€ç§æ˜¯å¹³é¢2dçº¹ç†,å¦ä¸€ç§æ˜¯ç›’çº¹ç†,é’ˆå¯¹ä¸åŒçš„çº¹ç†ç±»å‹æœ‰ä¸åŒè®¿é—®æ–¹æ³•.</p><p>çº¹ç†æŸ¥è¯¢çš„æœ€ç»ˆç›®çš„æ˜¯ä»samplerä¸­æå–æŒ‡å®šåæ ‡çš„é¢œè‰²ä¿¡æ¯. å‡½æ•°ä¸­å¸¦æœ‰Cubeå­—æ ·çš„æ˜¯æŒ‡ éœ€è¦ä¼ å…¥ç›’çŠ¶çº¹ç†. å¸¦æœ‰Projå­—æ ·çš„æ˜¯æŒ‡å¸¦æŠ•å½±çš„ç‰ˆæœ¬.</p><p>ä»¥ä¸‹å‡½æ•°åªåœ¨vertex shaderä¸­å¯ç”¨:</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> texture2DLod</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">sampler2D</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> sampler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec2</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> coord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> lod</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> texture2DProjLod</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">sampler2D</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> sampler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec3</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> coord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> lod</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> texture2DProjLod</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">sampler2D</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> sampler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> coord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> lod</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> textureCubeLod</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">samplerCube</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> sampler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec3</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> coord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> lod</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ä¸‹å‡½æ•°åªåœ¨fragment shaderä¸­å¯ç”¨:</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> texture2D</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">sampler2D</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> sampler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec2</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> coord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> bias</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> texture2DProj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">sampler2D</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> sampler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec3</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> coord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> bias</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> texture2DProj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">sampler2D</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> sampler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> coord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> bias</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> textureCube</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">samplerCube</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> sampler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec3</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> coord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> bias</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ vertex shader ä¸ fragment shader ä¸­éƒ½å¯ç”¨:</p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> texture2D</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">sampler2D</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> sampler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec2</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> coord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> texture2DProj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">sampler2D</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> sampler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec3</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> coord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> texture2DProj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">sampler2D</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> sampler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> coord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec4</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> textureCube</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">samplerCube</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> sampler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">vec3</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> coord</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®˜æ–¹çš„shaderèŒƒä¾‹" tabindex="-1"><a class="header-anchor" href="#å®˜æ–¹çš„shaderèŒƒä¾‹"><span>å®˜æ–¹çš„shaderèŒƒä¾‹:</span></a></h3><p>ä¸‹é¢çš„shaderå¦‚æœä½ å¯ä»¥ä¸€çœ¼çœ‹æ‡‚,è¯´æ˜ä½ å·²ç»å¯¹glslè¯­è¨€åŸºæœ¬æŒæ¡äº†.</p><p><strong>Vertex Shader:</strong></p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">uniform mat4 mvp_matrix;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //é€è§†çŸ©é˜µ * è§†å›¾çŸ©é˜µ * æ¨¡å‹å˜æ¢çŸ©é˜µ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">uniform mat3 normal_matrix;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //æ³•çº¿å˜æ¢çŸ©é˜µ(ç”¨äºç‰©ä½“å˜æ¢åæ³•çº¿è·Ÿç€å˜æ¢)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">uniform vec3 ec_light_dir;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //å…‰ç…§æ–¹å‘</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">attribute vec4 a_vertex;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // é¡¶ç‚¹åæ ‡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">attribute vec3 a_normal;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //é¡¶ç‚¹æ³•çº¿</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">attribute vec2 a_texcoord;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //çº¹ç†åæ ‡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">varying </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v_diffuse;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //æ³•çº¿ä¸å…¥å°„å…‰çš„å¤¹è§’</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">varying vec2 v_texcoord;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //2dçº¹ç†åæ ‡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //å½’ä¸€åŒ–æ³•çº¿</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> vec3 ec_normal </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> normalize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(normal_matrix </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a_normal);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //v_diffuse æ˜¯æ³•çº¿ä¸å…‰ç…§çš„å¤¹è§’.æ ¹æ®å‘é‡ç‚¹ä¹˜æ³•åˆ™,å½“ä¸¤å‘é‡é•¿åº¦ä¸º1æ˜¯ ä¹˜ç§¯å³cosÎ¸å€¼</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v_diffuse </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dot</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(ec_light_dir, ec_normal), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v_texcoord </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a_texcoord;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> gl_Position </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> mvp_matrix </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> a_vertex;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Fragment Shader:</strong></p><div class="language-cpp line-numbers-mode" data-highlighter="shiki" data-ext="cpp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-cpp"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">precision mediump </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">uniform sampler2D t_reflectance;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">uniform vec4 i_ambient;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">varying </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">float</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> v_diffuse;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">varying vec2 v_texcoord;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> main</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> vec4 color </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> texture2D</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(t_reflectance, v_texcoord);</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //è¿™é‡Œåˆ†è§£å¼€æ¥æ˜¯ color*vec3(1,1,1)*v_diffuse + color*i_ambient</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //è‰²*å…‰*å¤¹è§’cos + è‰²*ç¯å¢ƒå…‰</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> gl_FragColor </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> color</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">*</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vec4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(v_diffuse) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">+</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i_ambient);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><!----><!----></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/Hero-King/asset/edit/main/docs/frontEnd/basics/glsl.md" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">æœ€è¿‘æ›´æ–°</span><time class="vp-meta-info" datetime="2025-12-26T13:07:44.000Z" data-allow-mismatch>2025/12/26 13:07</time></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 838774057@qq.com">HeroKing-web</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/frontEnd/basics/echarts.html" aria-label="echarts"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->echarts</div></a><a class="route-link auto-link next" href="/frontEnd/basics/H5.html" aria-label="H5"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">H5<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">é»˜è®¤é¡µè„š</div><div class="vp-copyright">Copyright Â© 2025 HeroKing </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BgiGmIPz.js" defer></script>
  </body>
</html>
