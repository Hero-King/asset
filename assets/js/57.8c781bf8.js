(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{471:function(t,s,a){"use strict";a.r(s);var e=a(33),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"vite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vite"}},[t._v("#")]),t._v(" Vite")]),t._v(" "),s("p",[t._v("优势:")]),t._v(" "),s("ul",[s("li",[t._v("一个开发服务器，它基于 原生 ES 模块 提供了 丰富的内建功能")]),t._v(" "),s("li",[t._v("使用 Rollup 打包你的代码")]),t._v(" "),s("li",[t._v("Vite 天然支持引入 .ts 文件。")])]),t._v(" "),s("h2",{attrs:{id:"项目模板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目模板"}},[t._v("#")]),t._v(" 项目模板")]),t._v(" "),s("p",[t._v("vue /react vue-ts/react-ts")]),t._v(" "),s("h2",{attrs:{id:"cli"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cli"}},[t._v("#")]),t._v(" CLI")]),t._v(" "),s("ul",[s("li",[t._v("vite(同 vite dev/ vite serve) 启动开发服务器")]),t._v(" "),s("li",[t._v("vite build 打包")])]),t._v(" "),s("h2",{attrs:{id:"ts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ts"}},[t._v("#")]),t._v(" ts")]),t._v(" "),s("h3",{attrs:{id:"vite-client"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vite-client"}},[t._v("#")]),t._v(" vite/client")]),t._v(" "),s("p",[t._v("Vite 默认的类型定义是写给它的 Node.js API ,要将其补充到一个 Vite 应用的客户端代码环境中 需要手动让 ts 编译器 获取到 vite/client")]),t._v(" "),s("h2",{attrs:{id:"plugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#plugin"}},[t._v("#")]),t._v(" plugin")]),t._v(" "),s("ul",[s("li",[t._v("@vitejs/plugin-vue vite 为 Vue 提供第一优先级支持")]),t._v(" "),s("li",[t._v("@vitejs/plugin-vue-jsx 提供对 JSX / TSX 支持")])]),t._v(" "),s("h2",{attrs:{id:"css"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css"}},[t._v("#")]),t._v(" css")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("导入 .css 文件将会把内容插入到 "),s("code",[t._v("<style>")]),t._v(" 标签中")])]),t._v(" "),s("li",[s("p",[t._v("能够自动读取项目目录下 css预处理器配置文件 比如 "),s("code",[t._v("postcss.config.js")])])]),t._v(" "),s("li",[s("p",[t._v("任何以 .module.css 为后缀名的 CSS 文件都被认为是一个 CSS modules 文件, 导入这样的文件会返回一个相应的模块对象")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vite/client 中申明了所有样式类型文件模块 到处对象是 string类型")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .module.css 等模块话样式文件 导出对象是 CSSModuleClasses(type CSSModuleClasses = { readonly [key: string]: string })")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[t._v("Vite 的核心是使用现代浏览器的ESModule功能, 对样式预处理器不支持, 项目中需要安装对应的预处理器依赖")])]),t._v(" "),s("li",[s("p",[t._v("禁用 CSS 注入页面 自动注入 CSS 内容的行为可以通过 ?inline 参数来关闭。在关闭时，被处理过的 CSS 字符串将会作为该模块的默认导出，但样式并没有被注入到页面中。")])])]),t._v(" "),s("h2",{attrs:{id:"glob-导入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#glob-导入"}},[t._v("#")]),t._v(" Glob 导入")]),t._v(" "),s("p",[t._v("vite 支持使用特殊的 import.meta.glob 函数从文件系统导入多个模块\n"),s("code",[t._v("const modules = import.meta.glob('./dir/*.js')")]),t._v("  ===>")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" modules "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'./dir/foo.js'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dir/foo.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// value默认懒加载的，通过动态导入实现 并会在构建时分离为独立的 chunk。如果想同步 那么传入 { eager: true } 作为glob的第二个参数")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'./dir/bar.js'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dir/bar.js'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);