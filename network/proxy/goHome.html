<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>家庭网络打通 | HeroKing的个人笔记</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link href="https://cdn.bootcdn.net/ajax/libs/normalize/8.0.1/normalize.min.css" rel="stylesheet">
    <script src="https://hm.baidu.com/hm.js?3691b93bb6fcef0775ef18a936452b97" defer="true"></script>
    <meta name="description" content="学习犹如逆水行舟,不进则退">
    
    <link rel="preload" href="/assets/css/0.styles.51c3fc7f.css" as="style"><link rel="preload" href="/assets/js/app.d75c56c6.js" as="script"><link rel="preload" href="/assets/js/2.877b15ed.js" as="script"><link rel="preload" href="/assets/js/1.ee4b0e89.js" as="script"><link rel="preload" href="/assets/js/75.10fef7b3.js" as="script"><link rel="prefetch" href="/assets/js/10.215a54c0.js"><link rel="prefetch" href="/assets/js/11.5c0721a6.js"><link rel="prefetch" href="/assets/js/12.816525e0.js"><link rel="prefetch" href="/assets/js/13.5bb3cc0b.js"><link rel="prefetch" href="/assets/js/14.967d4b24.js"><link rel="prefetch" href="/assets/js/15.cdbcacd7.js"><link rel="prefetch" href="/assets/js/16.6ed14be5.js"><link rel="prefetch" href="/assets/js/17.2b37666b.js"><link rel="prefetch" href="/assets/js/18.59de2166.js"><link rel="prefetch" href="/assets/js/19.24ad168e.js"><link rel="prefetch" href="/assets/js/20.efb5ce8c.js"><link rel="prefetch" href="/assets/js/21.bae87a1d.js"><link rel="prefetch" href="/assets/js/22.5b821325.js"><link rel="prefetch" href="/assets/js/23.afa22431.js"><link rel="prefetch" href="/assets/js/24.61e2a2b4.js"><link rel="prefetch" href="/assets/js/25.bf3f621c.js"><link rel="prefetch" href="/assets/js/26.c322b4cc.js"><link rel="prefetch" href="/assets/js/27.56664389.js"><link rel="prefetch" href="/assets/js/28.567da433.js"><link rel="prefetch" href="/assets/js/29.55fecc62.js"><link rel="prefetch" href="/assets/js/3.b50983ee.js"><link rel="prefetch" href="/assets/js/30.f50d96de.js"><link rel="prefetch" href="/assets/js/31.7c146149.js"><link rel="prefetch" href="/assets/js/32.8b320e32.js"><link rel="prefetch" href="/assets/js/33.1abd7d9e.js"><link rel="prefetch" href="/assets/js/34.ba0f28b0.js"><link rel="prefetch" href="/assets/js/35.858bf55e.js"><link rel="prefetch" href="/assets/js/36.d465a60c.js"><link rel="prefetch" href="/assets/js/37.0778638c.js"><link rel="prefetch" href="/assets/js/38.d8f0ca12.js"><link rel="prefetch" href="/assets/js/39.dc0f3364.js"><link rel="prefetch" href="/assets/js/4.30e44ed7.js"><link rel="prefetch" href="/assets/js/40.5d8d1933.js"><link rel="prefetch" href="/assets/js/41.505349c6.js"><link rel="prefetch" href="/assets/js/42.cf447124.js"><link rel="prefetch" href="/assets/js/43.c4bccd9c.js"><link rel="prefetch" href="/assets/js/44.baf4bea6.js"><link rel="prefetch" href="/assets/js/45.0b90f039.js"><link rel="prefetch" href="/assets/js/46.ee359d59.js"><link rel="prefetch" href="/assets/js/47.c0dcce3d.js"><link rel="prefetch" href="/assets/js/48.68275f37.js"><link rel="prefetch" href="/assets/js/49.c0aa866a.js"><link rel="prefetch" href="/assets/js/5.f3b2a75f.js"><link rel="prefetch" href="/assets/js/50.2bdd8757.js"><link rel="prefetch" href="/assets/js/51.1b999daf.js"><link rel="prefetch" href="/assets/js/52.53ec53f7.js"><link rel="prefetch" href="/assets/js/53.2a008f66.js"><link rel="prefetch" href="/assets/js/54.dab1383a.js"><link rel="prefetch" href="/assets/js/55.3715b84c.js"><link rel="prefetch" href="/assets/js/56.2820dd19.js"><link rel="prefetch" href="/assets/js/57.3aaa1ce5.js"><link rel="prefetch" href="/assets/js/58.be6f2490.js"><link rel="prefetch" href="/assets/js/59.38d32c9f.js"><link rel="prefetch" href="/assets/js/6.5029a450.js"><link rel="prefetch" href="/assets/js/60.8fc6a48d.js"><link rel="prefetch" href="/assets/js/61.ade4ce7d.js"><link rel="prefetch" href="/assets/js/62.66835b3e.js"><link rel="prefetch" href="/assets/js/63.2c10bb82.js"><link rel="prefetch" href="/assets/js/64.19ead37f.js"><link rel="prefetch" href="/assets/js/65.8f845bf9.js"><link rel="prefetch" href="/assets/js/66.f0439138.js"><link rel="prefetch" href="/assets/js/67.bf2d4498.js"><link rel="prefetch" href="/assets/js/68.4142d566.js"><link rel="prefetch" href="/assets/js/69.3404ffe1.js"><link rel="prefetch" href="/assets/js/7.527d71e0.js"><link rel="prefetch" href="/assets/js/70.758dba30.js"><link rel="prefetch" href="/assets/js/71.fd4996ec.js"><link rel="prefetch" href="/assets/js/72.f8bd8eb0.js"><link rel="prefetch" href="/assets/js/73.789f2fae.js"><link rel="prefetch" href="/assets/js/74.3558b8ea.js"><link rel="prefetch" href="/assets/js/76.adb3181f.js"><link rel="prefetch" href="/assets/js/77.a54c0bf8.js"><link rel="prefetch" href="/assets/js/78.49fa2bd6.js"><link rel="prefetch" href="/assets/js/79.e0813640.js"><link rel="prefetch" href="/assets/js/80.9fb3881a.js"><link rel="prefetch" href="/assets/js/81.05acf55e.js"><link rel="prefetch" href="/assets/js/82.9babdefc.js"><link rel="prefetch" href="/assets/js/83.87892506.js"><link rel="prefetch" href="/assets/js/84.d6116499.js"><link rel="prefetch" href="/assets/js/85.61d09207.js"><link rel="prefetch" href="/assets/js/86.2295e24d.js"><link rel="prefetch" href="/assets/js/87.3c8c369e.js"><link rel="prefetch" href="/assets/js/88.45ce7e09.js"><link rel="prefetch" href="/assets/js/89.9dc0b9fe.js"><link rel="prefetch" href="/assets/js/90.7b15eb5e.js"><link rel="prefetch" href="/assets/js/91.017a934f.js"><link rel="prefetch" href="/assets/js/92.ff0ced63.js"><link rel="prefetch" href="/assets/js/93.64f976f5.js"><link rel="prefetch" href="/assets/js/94.bd33bca6.js"><link rel="prefetch" href="/assets/js/95.48ccf70e.js"><link rel="prefetch" href="/assets/js/96.ec0b558f.js"><link rel="prefetch" href="/assets/js/97.faa1297f.js"><link rel="prefetch" href="/assets/js/98.41d0074e.js"><link rel="prefetch" href="/assets/js/99.bdbda4a7.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.2f354cfa.js">
    <link rel="stylesheet" href="/assets/css/0.styles.51c3fc7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">HeroKing的个人笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="afterEnd" class="dropdown-title"><span class="title">afterEnd</span> <span class="arrow down"></span></button> <button type="button" aria-label="afterEnd" class="mobile-dropdown-title"><span class="title">afterEnd</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/afterEnd/mongodb/" class="nav-link">
  Mongodb
</a></li><li class="dropdown-item"><!----> <a href="/afterEnd/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/afterEnd/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/afterEnd/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/afterEnd/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/afterEnd/JMS/" class="nav-link">
  JMS
</a></li><li class="dropdown-item"><!----> <a href="/afterEnd/" class="nav-link">
  After End
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="algorithms" class="dropdown-title"><span class="title">algorithms</span> <span class="arrow down"></span></button> <button type="button" aria-label="algorithms" class="mobile-dropdown-title"><span class="title">algorithms</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithms/" class="nav-link">
  Algorithms
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="frontEnd" class="dropdown-title"><span class="title">frontEnd</span> <span class="arrow down"></span></button> <button type="button" aria-label="frontEnd" class="mobile-dropdown-title"><span class="title">frontEnd</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontEnd/autojs/" class="nav-link">
  Autojs
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/demo/" class="nav-link">
  Demo
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/" class="nav-link">
  Front End
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/ts/" class="nav-link">
  Ts
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="life" class="dropdown-title"><span class="title">life</span> <span class="arrow down"></span></button> <button type="button" aria-label="life" class="mobile-dropdown-title"><span class="title">life</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/life/" class="nav-link">
  Life
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="network" class="dropdown-title"><span class="title">network</span> <span class="arrow down"></span></button> <button type="button" aria-label="network" class="mobile-dropdown-title"><span class="title">network</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/" class="nav-link router-link-active">
  Network
</a></li><li class="dropdown-item"><!----> <a href="/network/proxy/" class="nav-link router-link-active">
  Proxy
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="software" class="dropdown-title"><span class="title">software</span> <span class="arrow down"></span></button> <button type="button" aria-label="software" class="mobile-dropdown-title"><span class="title">software</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/software/ftp/" class="nav-link">
  Ftp
</a></li><li class="dropdown-item"><!----> <a href="/software/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/software/samba/" class="nav-link">
  Samba
</a></li><li class="dropdown-item"><!----> <a href="/software/" class="nav-link">
  Software
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="system" class="dropdown-title"><span class="title">system</span> <span class="arrow down"></span></button> <button type="button" aria-label="system" class="mobile-dropdown-title"><span class="title">system</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/system/Hackintosh/" class="nav-link">
  Hackintosh
</a></li><li class="dropdown-item"><!----> <a href="/system/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/system/" class="nav-link">
  System
</a></li><li class="dropdown-item"><!----> <a href="/system/windows/" class="nav-link">
  Windows
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="afterEnd" class="dropdown-title"><span class="title">afterEnd</span> <span class="arrow down"></span></button> <button type="button" aria-label="afterEnd" class="mobile-dropdown-title"><span class="title">afterEnd</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/afterEnd/mongodb/" class="nav-link">
  Mongodb
</a></li><li class="dropdown-item"><!----> <a href="/afterEnd/python/" class="nav-link">
  Python
</a></li><li class="dropdown-item"><!----> <a href="/afterEnd/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/afterEnd/nginx/" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/afterEnd/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/afterEnd/JMS/" class="nav-link">
  JMS
</a></li><li class="dropdown-item"><!----> <a href="/afterEnd/" class="nav-link">
  After End
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="algorithms" class="dropdown-title"><span class="title">algorithms</span> <span class="arrow down"></span></button> <button type="button" aria-label="algorithms" class="mobile-dropdown-title"><span class="title">algorithms</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/algorithms/" class="nav-link">
  Algorithms
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="frontEnd" class="dropdown-title"><span class="title">frontEnd</span> <span class="arrow down"></span></button> <button type="button" aria-label="frontEnd" class="mobile-dropdown-title"><span class="title">frontEnd</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frontEnd/autojs/" class="nav-link">
  Autojs
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/demo/" class="nav-link">
  Demo
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/" class="nav-link">
  Front End
</a></li><li class="dropdown-item"><!----> <a href="/frontEnd/ts/" class="nav-link">
  Ts
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="life" class="dropdown-title"><span class="title">life</span> <span class="arrow down"></span></button> <button type="button" aria-label="life" class="mobile-dropdown-title"><span class="title">life</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/life/" class="nav-link">
  Life
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="network" class="dropdown-title"><span class="title">network</span> <span class="arrow down"></span></button> <button type="button" aria-label="network" class="mobile-dropdown-title"><span class="title">network</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/" class="nav-link router-link-active">
  Network
</a></li><li class="dropdown-item"><!----> <a href="/network/proxy/" class="nav-link router-link-active">
  Proxy
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="software" class="dropdown-title"><span class="title">software</span> <span class="arrow down"></span></button> <button type="button" aria-label="software" class="mobile-dropdown-title"><span class="title">software</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/software/ftp/" class="nav-link">
  Ftp
</a></li><li class="dropdown-item"><!----> <a href="/software/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/software/samba/" class="nav-link">
  Samba
</a></li><li class="dropdown-item"><!----> <a href="/software/" class="nav-link">
  Software
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="system" class="dropdown-title"><span class="title">system</span> <span class="arrow down"></span></button> <button type="button" aria-label="system" class="mobile-dropdown-title"><span class="title">system</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/system/Hackintosh/" class="nav-link">
  Hackintosh
</a></li><li class="dropdown-item"><!----> <a href="/system/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/system/" class="nav-link">
  System
</a></li><li class="dropdown-item"><!----> <a href="/system/windows/" class="nav-link">
  Windows
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Proxy</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/network/proxy/" aria-current="page" class="sidebar-link">代理和内网穿透</a></li><li><a href="/network/proxy/goHome.html" aria-current="page" class="active sidebar-link">家庭网络打通</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/proxy/goHome.html#vpn" class="sidebar-link">vpn</a></li><li class="sidebar-sub-header"><a href="/network/proxy/goHome.html#v2ray" class="sidebar-link">v2ray</a></li><li class="sidebar-sub-header"><a href="/network/proxy/goHome.html#光猫" class="sidebar-link">光猫</a></li><li class="sidebar-sub-header"><a href="/network/proxy/goHome.html#nat-模式-路由模式-全路由模式" class="sidebar-link">NAT 模式/路由模式/全路由模式</a></li><li class="sidebar-sub-header"><a href="/network/proxy/goHome.html#网络模拟工具" class="sidebar-link">网络模拟工具</a></li></ul></li><li><a href="/network/proxy/tinyProxy.html" class="sidebar-link">TinyProxy</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="家庭网络打通"><a href="#家庭网络打通" class="header-anchor">#</a> 家庭网络打通</h1> <h2 id="vpn"><a href="#vpn" class="header-anchor">#</a> vpn</h2> <p>路由器开启 vpn 服务器, 电脑进行连接,一般有 PPTP/L2tp/openVPN openvpn 好用些 但是需要下载客户端(不适用于受监控的公司电脑) 其他两个看网络稳定性</p> <h2 id="v2ray"><a href="#v2ray" class="header-anchor">#</a> v2ray</h2> <p>首先需要设置 v2ray 服务端添加自定义 dns 配置项</p> <h3 id="方案一-域名访问"><a href="#方案一-域名访问" class="header-anchor">#</a> 方案一 域名访问</h3> <p>设置局域网路由器域为个人常用的域名,比如(xxx.top), 然后设置局域网下各主机名称, 这样就可以使用域名通信 比如<code>ping aml.xxx.top</code> 可以直接访问内网 ip
内网中安装 v2ray 服务器, 当请求是 aml.xxx.top 时, v2ray 自动请求到内网中机器</p> <p>如果内网路由器<em>不能设置域</em>, 可以使用 v2ray 的 dns 配置某域名的静态 ip</p> <h3 id="方案二"><a href="#方案二" class="header-anchor">#</a> 方案二</h3> <p>客户端设置内网地址走 v2ray 转发,即可通过内网 ip 访问家庭主机</p> <h2 id="光猫"><a href="#光猫" class="header-anchor">#</a> 光猫</h2> <h3 id="vlan"><a href="#vlan" class="header-anchor">#</a> Vlan</h3> <p>虚拟局域网（VLAN）。它的功能是<code>将连接到同一交换机的主机划分成更小的逻辑网段，从而减少广播的数量</code>。不同的 VLAN 之间无法通信，因此广播仅限于同一服务需求主机的 VLAN。即使它们连接到同一个交换机，不同的 VLAN 也不会接收 ARP 广播请求！如果他们需要相互通信，他们只能使用路由器或第三层交换机</p> <p>数据流向,五口交换机中给端口绑定 vlanid,那么端口就会流通该 vlan 的数据,同时端口配置<code>已标记/未标记</code> 表示流入和流出数据是否需要打标签</p> <h3 id="trunk"><a href="#trunk" class="header-anchor">#</a> trunk</h3> <p>TRUNK 是端口汇聚的意思，就是通过配置软件的设置，将 2 个或多个物理端口组合在一起成为一条逻辑的路径从而增加在交换机和网络节点之间的带宽，将属于这几个端口的带宽合并，给端口提供一个几倍于独立端口的独享的高带宽。Trunk 是一种封装技术，它是一条点到点的链路，链路的两端可以都是交换机，也可以是交换机和路由器，还可以是主机和交换机或路由器。</p> <p>TRUNK 的主要功能就是将多个物理端口（一般为 2－8 个）绑定为一个逻辑的通道，使其工作起来就像一个通道一样。将多个物理链路捆绑在一起后，不但提升了整个网络的带宽，而且数据还可以同时经由被绑定的多个物理链路传输，具有链路冗余的作用，在网络出现故障或其他原因断开其中一条或多条链路时，剩下的链路还可以工作。</p> <p>TRUNK 的作用 ：
（1）传输 vlan 的作用。一条 trunk 线路可以承载多个 Vlan 数据
（2）数据在 trunk 链路上传输要打标签，数据在离开 trunk 链路时要脱标签
（3）通过 trunk 的标签可以区分不同的流量。
（4）注意：trunk 工作在数据链路层（只能识别 mac 地址），不能实现不同 vlan 之间的通信</p> <h3 id="使用-trunk-单线复用宽带和-iptv"><a href="#使用-trunk-单线复用宽带和-iptv" class="header-anchor">#</a> 使用 trunk 单线复用宽带和 iptv</h3> <p>适用于客厅和弱电箱只有一根网线情况</p> <p>我们知道光猫通过一根光纤就可以给用户提供 IPTV、宽带、电话等业务，那我们能不能使用一个网线同时给客厅的路由器提供 iptv 和宽带的业务呢?</p> <p>答案是可以的!! 首先我们看两个网线情况: 一根接路由器 wan 口,光猫 iptv LAN 口 接 iptv 机顶盒是肯定没问题的,那为什么会出现同是 Lan 口业务不同的情况呢? 主要是光猫业务连接中可以绑定不同的 LAN 口.</p> <p>接下来我们讨论单线复用实现宽带和 iptv, 需要光猫和下级路由器支持 trunk 功能,这样我们划分好两个业务的 Vlan, 就可以在一条线上传递两组 vlan 数据,然后在路由器中 untag vlan 数据,绑定某个 lan 口就可以了</p> <h2 id="nat-模式-路由模式-全路由模式"><a href="#nat-模式-路由模式-全路由模式" class="header-anchor">#</a> NAT 模式/路由模式/全路由模式</h2> <p>NAT 模式。此模式下，由局域网向广域网发送的数据包默认经过 NAT 转换，但路由器对所有源地址与局域网接口不在同一网段的数据包均不进行处理。例如，路由器 LAN 口 IP 设置为 192.168.1.1，子网掩码为 255.255.255.0，LAN 口所处网段为 192.168.1.0/24，此时，路由器收到源地址为 192.168.1.123 的数据包会进行 NAT 转换；但如果收到源地址为 20.31.76.80 的数据包则直接丢弃。</p> <p>路由模式。此模式下，处于不同网段的主机可以通过相应的路由设置进行通信，但路由器不进行 NAT 转换。例如，当路由器 DMZ 口处于广域网模式时，DMZ 区域内主机需要以路由方式访问广域网中的服务器，若静态路由规则允许，则可正常通信。此时，局域网内的主机不能访问广域网。</p> <p>全路由模式。全模式包含了 NAT 模式及路由模式，此模式下，路由器首先对符合 NAT 转发条件的数据包进行 NAT 转换；若不符合，则进行静态路由规则匹配，匹配成功的数据包以路由模式进行转发；匹配失败的数据包直接丢弃。这样，路由器既允许数据包进行 NAT 转换，也不阻隔与接口在不同网段的数据包。</p> <h2 id="网络模拟工具"><a href="#网络模拟工具" class="header-anchor">#</a> 网络模拟工具</h2> <p>ENSP</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/network/proxy/" class="prev router-link-active">
        代理和内网穿透
      </a></span> <span class="next"><a href="/network/proxy/tinyProxy.html">
        TinyProxy
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.d75c56c6.js" defer></script><script src="/assets/js/2.877b15ed.js" defer></script><script src="/assets/js/1.ee4b0e89.js" defer></script><script src="/assets/js/75.10fef7b3.js" defer></script>
  </body>
</html>
